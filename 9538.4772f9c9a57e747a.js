"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[9538],{9538:(fe,y,d)=>{d.r(y),d.d(y,{Tab2PageModule:()=>me});var s=d(2912),m=d(6814),C=d(95),T=d(7168),u=d(5861),Z=d(5083),f=d(6676),e=d(5678),O=d(2978),v=d(8439),M=d(8168),A=d(4387),S=d(3546);const q=["popoverTransaction"],J=["popoverClient"];function U(i,l){1&i&&(e.TgZ(0,"ion-title"),e._uU(1,"Lista de Viajes"),e.qZA())}function F(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-button",29),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.goToNewDelivery(n.transactionCreditTypes[0]))}),e._uU(1," Nuevo Viaje "),e._UZ(2,"ion-icon",6),e.qZA()}}function Q(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-item",32),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.goToNewDelivery(r))}),e.TgZ(1,"ion-label"),e._uU(2),e.qZA()()}if(2&i){const t=l.$implicit;e.Q6J("button",!0)("detail",!1),e.xp6(2),e.Oqu(t.name)}}function k(i,l){if(1&i&&(e.TgZ(0,"ion-content",30)(1,"ion-list"),e.YNc(2,Q,3,3,"ion-item",31),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.transactionCreditTypes)}}function N(i,l){1&i&&(e.TgZ(0,"h6",33),e._uU(1,"Lista de Viajes"),e.qZA())}function D(i,l){if(1&i&&(e.TgZ(0,"ion-select-option",48),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t.name)}}function z(i,l){if(1&i&&(e.TgZ(0,"ion-select-option",48),e._uU(1),e.qZA()),2&i){const t=l.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.name)}}function L(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-datetime",49),e.NdJ("ionChange",function(n){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeDateStart(n))}),e.qZA()}}function I(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-datetime",50),e.NdJ("ionChange",function(n){e.CHM(t);const r=e.oxw(2);return e.KtG(r.changeDateEnd(n))}),e.qZA()}}const P=i=>({empty:i});function Y(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-grid",34)(1,"ion-row")(2,"ion-col",35)(3,"ion-select",36),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedFilterProvider=n)}),e.YNc(4,D,2,2,"ion-select-option",37),e.qZA()(),e.TgZ(5,"ion-col",35)(6,"ion-select",38),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedFilterClient=n)}),e.YNc(7,z,2,2,"ion-select-option",37),e.qZA()()(),e.TgZ(8,"ion-row")(9,"div",39),e._uU(10," Seleccione las fechas "),e.qZA(),e.TgZ(11,"ion-col",35)(12,"ion-row")(13,"ion-col"),e._uU(14," Desde "),e._UZ(15,"ion-datetime-button",40),e.TgZ(16,"ion-modal",41),e.YNc(17,L,1,0,"ng-template"),e.qZA()(),e.TgZ(18,"ion-col"),e._uU(19," Hasta "),e._UZ(20,"ion-datetime-button",42),e.TgZ(21,"ion-modal",41),e.YNc(22,I,1,0,"ng-template"),e.qZA()()()(),e.TgZ(23,"ion-col",43)(24,"ion-checkbox",44),e.NdJ("ngModelChange",function(n){e.CHM(t);const r=e.oxw();return e.KtG(r.selectedFilterToday=n)}),e._uU(25,"S\xf3lo hoy"),e.qZA(),e.TgZ(26,"div",45)(27,"ion-button",46),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.confirmDateFilter())}),e._uU(28," Filtar "),e.qZA(),e.TgZ(29,"ion-button",47),e.NdJ("click",function(){e.CHM(t);const n=e.oxw();return e.KtG(n.clearDateFilter())}),e._uU(30," Limpiar "),e.qZA()()()()()}if(2&i){const t=e.oxw();e.Q6J("@fadeAnimation",void 0),e.xp6(2),e.Q6J("size",t.isLandscape?6:12),e.xp6(1),e.Q6J("ngModel",t.selectedFilterProvider),e.xp6(1),e.Q6J("ngForOf",t.providers),e.xp6(1),e.Q6J("size",t.isLandscape?6:12),e.xp6(1),e.Q6J("ngModel",t.selectedFilterClient),e.xp6(1),e.Q6J("ngForOf",t.clients),e.xp6(4),e.Q6J("size",t.isLandscape?6:12),e.xp6(4),e.Q6J("ngClass",e.VKq(13,P,!t.filterDateStart)),e.xp6(1),e.Q6J("keepContentsMounted",!0),e.xp6(4),e.Q6J("ngClass",e.VKq(15,P,!t.filterDateEnd)),e.xp6(1),e.Q6J("keepContentsMounted",!0),e.xp6(3),e.Q6J("ngModel",t.selectedFilterToday)}}function V(i,l){1&i&&(e.TgZ(0,"div",51),e._uU(1," Volver a la vista global "),e._UZ(2,"i",52),e.qZA())}function E(i,l){1&i&&(e.TgZ(0,"div",53),e._UZ(1,"i",54),e._uU(2," Seleccione un viaje "),e.qZA())}function G(i,l){1&i&&(e.TgZ(0,"div",55),e._uU(1," No hay registros para la b\xfasqueda "),e.qZA())}function K(i,l){1&i&&e._UZ(0,"ion-icon",65)}function j(i,l){if(1&i&&(e.TgZ(0,"ion-row",71)(1,"ion-col"),e._uU(2),e.qZA(),e.TgZ(3,"ion-col"),e._uU(4),e.qZA(),e.TgZ(5,"ion-col",70),e._uU(6),e.ALo(7,"COP"),e.qZA()()),2&i){const t=l.$implicit;e.xp6(2),e.Oqu(null==t.productCatalog?null:t.productCatalog.name),e.xp6(2),e.Oqu(t.subTotalUnits),e.xp6(2),e.Oqu(e.lcZ(7,3,t.subTotalPrice))}}function H(i,l){if(1&i&&(e.TgZ(0,"ion-grid",66)(1,"ion-row",67)(2,"ion-col")(3,"strong"),e._uU(4,"Categor\xeda "),e.qZA()(),e.TgZ(5,"ion-col")(6,"strong"),e._uU(7,"Unidades"),e.qZA()(),e.TgZ(8,"ion-col")(9,"strong"),e._uU(10,"SubTotal"),e.qZA()()(),e.YNc(11,j,8,5,"ion-row",68),e.TgZ(12,"ion-row",69)(13,"ion-col")(14,"strong"),e._uU(15,"Total"),e.qZA()(),e.TgZ(16,"ion-col")(17,"strong"),e._uU(18),e.qZA()(),e.TgZ(19,"ion-col",70)(20,"strong"),e._uU(21),e.ALo(22,"COP"),e.qZA()()()()),2&i){const t=e.oxw().$implicit,o=e.oxw(2);e.xp6(11),e.Q6J("ngForOf",t.totalDetails),e.xp6(7),e.Oqu(o.deliveryTotalUnits(t.delivery)),e.xp6(3),e.Oqu(e.lcZ(22,3,o.deliveryTotalPrice(t.delivery)))}}const R=(i,l)=>({syncRequired:i,"padding-small":l}),b=i=>({syncRequired:i});function B(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",58),e.ynx(1),e.TgZ(2,"ion-col",59),e.NdJ("click",function(){const r=e.CHM(t).$implicit,a=e.oxw(2);return e.KtG(a.goToDeliveryDetail(r))}),e.TgZ(3,"div",60)(4,"div",61)(5,"h5",62),e.YNc(6,K,1,0,"ion-icon",63),e._uU(7),e._UZ(8,"br"),e.TgZ(9,"small"),e._uU(10),e.ALo(11,"Fecha"),e.qZA()(),e.YNc(12,H,23,5,"ion-grid",64),e.qZA()()(),e.BQk(),e.qZA()}if(2&i){const t=l.$implicit,o=e.oxw(2);e.Q6J("ngClass",e.WLB(10,R,null==t||null==t.delivery?null:t.delivery.syncRequired,!o.isLandscape)),e.xp6(2),e.Q6J("size",o.isLandscape?6:12),e.xp6(2),e.Q6J("ngClass",e.VKq(13,b,null==t||null==t.delivery?null:t.delivery.syncRequired)),e.xp6(2),e.Q6J("ngIf",null==t||null==t.delivery?null:t.delivery.syncRequired),e.xp6(1),e.AsE(" ",t.delivery&&t.delivery.description?t.delivery.description:"Viaje "+t.delivery.id," - ",o.getProvidersName(t.delivery.providers)," "),e.xp6(3),e.hij("Fecha: ",e.lcZ(11,8,t.delivery.date),""),e.xp6(2),e.Q6J("ngIf",t.totalDetails)}}function $(i,l){if(1&i&&(e.TgZ(0,"ion-grid",56),e.YNc(1,B,13,15,"ion-row",57),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t._deliveryCssFilter)}}function W(i,l){1&i&&e._UZ(0,"ion-icon",65)}function X(i,l){1&i&&(e.TgZ(0,"ion-col",84)(1,"ion-row",85)(2,"ion-col",86)(3,"strong"),e._uU(4,"Cliente"),e.qZA()(),e.TgZ(5,"ion-col",87)(6,"strong"),e._uU(7,"Categor\xeda"),e.qZA()(),e.TgZ(8,"ion-col",88)(9,"strong"),e._uU(10,"Unidades"),e.qZA()(),e.TgZ(11,"ion-col",89)(12,"strong"),e._uU(13,"SubTotal"),e.qZA()()()())}const w=i=>({"syncRequired-border":i});function ee(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",91)(1,"ion-col",92)(2,"span",93),e.NdJ("click",function(n){e.CHM(t);const r=e.oxw(),a=r.index,c=r.$implicit,g=e.oxw(3);return e.KtG(g.presentPopoverClientAction(n,a,c.client))}),e._uU(3),e.qZA()(),e.TgZ(4,"ion-col",94),e._uU(5),e.qZA(),e.TgZ(6,"ion-col",95),e._uU(7),e.qZA(),e.TgZ(8,"ion-col",89),e._uU(9),e.ALo(10,"COP"),e.qZA()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(3);e.Q6J("ngClass",e.VKq(7,w,null==o.deliveryCssSelected||null==o.deliveryCssSelected.delivery?null:o.deliveryCssSelected.delivery.syncRequired)),e.xp6(3),e.hij("",null==t.client?null:t.client.name," "),e.xp6(2),e.Oqu(null==t.productCatalog?null:t.productCatalog.name),e.xp6(2),e.Oqu(t.subTotalUnit),e.xp6(2),e.Oqu(e.lcZ(10,5,t.subTotalPrice))}}function te(i,l){if(1&i&&(e.ynx(0),e.YNc(1,ee,11,9,"ion-row",90),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",t.isLandscape)}}function ie(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-row",97)(1,"ion-col",98),e._uU(2," Cliente "),e.qZA(),e.TgZ(3,"ion-col",99)(4,"span",93),e.NdJ("click",function(n){e.CHM(t);const r=e.oxw(),a=r.index,c=r.$implicit,g=e.oxw(3);return e.KtG(g.presentPopoverClientAction(n,a,c.client))}),e._uU(5),e.qZA()(),e.TgZ(6,"ion-col",98),e._uU(7,"Categor\xeda"),e.qZA(),e.TgZ(8,"ion-col",99),e._uU(9),e.qZA(),e.TgZ(10,"ion-col",98),e._uU(11,"Unidades"),e.qZA(),e.TgZ(12,"ion-col",99),e._uU(13),e.qZA(),e.TgZ(14,"ion-col",98),e._uU(15," Precio "),e.qZA(),e.TgZ(16,"ion-col",100),e._uU(17),e.ALo(18,"COP"),e.qZA()()}if(2&i){const t=e.oxw().$implicit,o=e.oxw(3);e.Q6J("ngClass",e.VKq(7,w,null==o.deliveryCssSelected||null==o.deliveryCssSelected.delivery?null:o.deliveryCssSelected.delivery.syncRequired)),e.xp6(5),e.hij("",null==t.client?null:t.client.name," "),e.xp6(4),e.hij(" ",null==t.productCatalog?null:t.productCatalog.name," "),e.xp6(4),e.Oqu(t.subTotalUnit),e.xp6(4),e.Oqu(e.lcZ(18,5,t.subTotalPrice))}}function ne(i,l){if(1&i&&(e.ynx(0),e.YNc(1,ie,19,9,"ion-row",96),e.BQk()),2&i){const t=e.oxw(3);e.xp6(1),e.Q6J("ngIf",!t.isLandscape)}}function oe(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-grid",56)(1,"ion-row",72)(2,"ion-col",73)(3,"h5",74)(4,"div",75),e.YNc(5,W,1,0,"ion-icon",63),e._uU(6),e._UZ(7,"br"),e.TgZ(8,"small"),e._uU(9),e.ALo(10,"Fecha"),e.qZA()(),e.TgZ(11,"div",76),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.goToDelivery(n.deliveryCssSelected.delivery))}),e._UZ(12,"ion-icon",77),e.qZA()(),e._UZ(13,"br"),e.qZA(),e.YNc(14,X,14,0,"ion-col",78),e.qZA(),e.YNc(15,te,2,1,"ng-container",79)(16,ne,2,1,"ng-container",79),e.TgZ(17,"ion-row",80)(18,"ion-col",81)(19,"strong"),e._uU(20,"Total"),e.qZA()(),e.TgZ(21,"ion-col",82)(22,"strong"),e._uU(23),e.qZA()(),e.TgZ(24,"ion-col",83)(25,"strong"),e._uU(26),e.ALo(27,"COP"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.xp6(1),e.Q6J("ngClass",e.VKq(19,b,null==t.deliveryCssSelected||null==t.deliveryCssSelected.delivery?null:t.deliveryCssSelected.delivery.syncRequired)),e.xp6(4),e.Q6J("ngIf",null==t.deliveryCssSelected||null==t.deliveryCssSelected.delivery?null:t.deliveryCssSelected.delivery.syncRequired),e.xp6(1),e.AsE(" ",t.deliveryCssSelected.delivery&&t.deliveryCssSelected.delivery.description?t.deliveryCssSelected.delivery.description:"Viaje "+t.deliveryCssSelected.delivery.id," - ",t.getProvidersName(t.deliveryCssSelected.delivery.providers)," "),e.xp6(3),e.hij("Fecha: ",e.lcZ(10,15,t.deliveryCssSelected.delivery.date),""),e.xp6(5),e.Q6J("ngIf",t.isLandscape),e.xp6(1),e.Q6J("ngForOf",t.deliveryCssSelected.transactionsCss),e.xp6(1),e.Q6J("ngForOf",t.deliveryCssSelected.transactionsCss),e.xp6(1),e.Q6J("ngClass",e.VKq(21,b,null==t.deliveryCssSelected||null==t.deliveryCssSelected.delivery?null:t.deliveryCssSelected.delivery.syncRequired)),e.xp6(1),e.Q6J("size",t.isLandscape?7:4),e.xp6(3),e.Q6J("size",t.isLandscape?2:3),e.xp6(2),e.AsE("",t.isLandscape?"":"Cantidad ","",t.deliveryTotalUnits(t.deliveryCssSelected.delivery),""),e.xp6(1),e.Q6J("size",t.isLandscape?2:4),e.xp6(2),e.hij(" ",e.lcZ(27,17,t.deliveryTotalPrice(t.deliveryCssSelected.delivery)),"")}}function re(i,l){if(1&i&&(e.ynx(0),e.YNc(1,oe,28,23,"ion-grid",24),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngIf",t.deliveryCssSelected)}}function le(i,l){if(1&i&&(e.TgZ(0,"ion-grid",56)(1,"ion-row")(2,"ion-col",35),e._UZ(3,"ion-skeleton-text",101),e.qZA(),e.TgZ(4,"ion-col",35),e._UZ(5,"ion-skeleton-text",101),e.qZA(),e.TgZ(6,"ion-col",35),e._UZ(7,"ion-skeleton-text",101),e.qZA()()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("size",t.isLandscape?6:12),e.xp6(1),e.Q6J("animated",!0),e.xp6(1),e.Q6J("size",t.isLandscape?6:12),e.xp6(1),e.Q6J("animated",!0),e.xp6(1),e.Q6J("size",t.isLandscape?6:12),e.xp6(1),e.Q6J("animated",!0)}}function ae(i,l){if(1&i){const t=e.EpF();e.TgZ(0,"ion-content",30)(1,"ion-list")(2,"ion-item",102),e.NdJ("click",function(){e.CHM(t);const n=e.oxw(2);return e.KtG(n.goToClientDetail(n.clientSelected))}),e.TgZ(3,"ion-label"),e._uU(4,"Ver Cliente"),e.qZA()()()()}2&i&&(e.xp6(2),e.Q6J("button",!0)("detail",!1))}function se(i,l){1&i&&e.YNc(0,ae,5,2,"ng-template")}const ce=i=>({height:i}),de=()=>({"--width":"300px;"}),ge=(i,l)=>({"background-color-light-blue":i,"opacity-02":l}),_e=[{path:"",component:(()=>{class i{constructor(t,o,n,r,a,c){this.deliveryService=t,this.screenSizeService=o,this.redirectService=n,this.storageService=r,this.dialogService=a,this.activatedRoute=c,this.deliveryCssOri=[],this.deliveryCssTotal=-1,this._deliveryCssFilter=[],this.loading=!1,this.isLandscape=!1,this.isSmallScreen=!1,this.providers=[],this.showDateFilter=!1,this.selectedFilterToday=!0,this.transactionCreditTypes=[],this.groupView=!0,this.isOpenClientSelected=!1}ngAfterViewInit(){var t=this;return(0,u.Z)(function*(){t.isLandscape=t.screenSizeService.isLandscape,t.isSmallScreen=t.screenSizeService.isSmallScreen,t.screenSizeService.isLandscape$.subscribe(o=>{t.isLandscape=o.isLandscape,t.isSmallScreen=o.isSmallScreen}),t.initialize()})()}initialize(){var t=this;return(0,u.Z)(function*(){t.activatedRoute.queryParams.subscribe(function(){var o=(0,u.Z)(function*(n){let r=null;n.noLoad||(r=yield t.dialogService.showLoading()),t.redirectService.routerNameChange("tabs/tab2"),t.userAuth=yield t.storageService.getUserAuth();const c=yield t.storageService.getProviders(t.userAuth);t.providers=c||[];const g=yield t.storageService.getTransactionTypes(t.userAuth);g&&(t.transactionCreditTypes=g.filter(p=>p.targetType==Z.Lm.Credit&&1==p.detail&&"A"==p.state)),t.clients=yield t.storageService.getClients(t.userAuth);const _=yield t.deliveryService.getDeliveries(t.userAuth),h=yield t.storageService.getProductCatalogs(t.userAuth);t.deliveryCssOri=yield t.parseDeliveryList(_,h),t._deliveryCssFilter=t.deliveryCssOri,r?.dismiss(),t.loading=!0});return function(n){return o.apply(this,arguments)}}())})()}parseDeliveryList(t,o){return(t=t.sort((r,a)=>{const c=f(r.date,"YYYY-MM-DD");return f(a.date,"YYYY-MM-DD").isAfter(c)?1:-1})).map(r=>{const a={},c=[];return r.transactions?.forEach(g=>{g.transactionsDetails?.forEach(_=>{if(_.product_catalog_id){const h=o.find(x=>x.id==_.product_catalog_id),p=_.product_catalog_id;a[p]=a[p]||{productCatalog:h,subTotalPrice:0,subTotalUnits:0},a[p].subTotalPrice+=Number(_.units)*Number(_.price),a[p].subTotalUnits+=Number(_.units),c.push({client:this.clients?.find(x=>x.id==g.client_id),productCatalog:h,transaction:g,subTotalPrice:Number(_.units)*Number(_.price),subTotalUnit:Number(_.units)})}})}),{order:0,delivery:r,totalDetails:Object.values(a),transactionsCss:c}})}deliveryTotalUnits(t){let o=0;if(t.transactions)for(let n of t.transactions)o+=n.units;return o}deliveryTotalPrice(t){let o=0;if(t.transactions)for(let n of t.transactions)o+=n.price;return o}confirmDateFilter(){this.showDateFilter=!1}clearDateFilter(){this.selectedFilterProvider=void 0,this.selectedFilterClient=void 0,this.selectedFilterToday=!0,this.filterDateStart=void 0,this.filterDateEnd=void 0,this.showDateFilter=!1}loadMore(t){setTimeout(()=>{t.target.complete()},1e3)}goToNewDelivery(t){var o=this;return(0,u.Z)(function*(){o.closePopover(),o.redirectService.redirectTo("/tabs/delivery",{typeId:t.id})})()}findDeliverySearch(t){const o=(t.target.value||"").trim().toLowerCase();if(0==o.length)return this._deliveryCssFilter=this.deliveryCssOri,void(this.deliveryCssTotal=o?this._deliveryCssFilter.length:-1);const n=[];let r;for(let a of this.deliveryCssOri)if(r=a.delivery.id.toString().includes(o)||a.delivery.transactionType?.name?.toLowerCase().includes(o)||a.delivery.providers?.some(c=>c.name?.toLowerCase().includes(o))||a.delivery.description?.toLowerCase().includes(o),r)n.push(a);else{const c=a.transactionsCss?.filter(g=>g.client?.name?.toLowerCase().includes(o));c&&c.length>0&&n.push({...a,transactionsCss:c})}this._deliveryCssFilter=n,this.deliveryCssTotal=o?this._deliveryCssFilter.length:-1}findProviderSearch(t){this._deliveryCssFilter=this.deliveryCssOri.filter(o=>o.delivery.providers?.some(n=>n.id==t.id))}changeDateStart(t){const o=t.target;if(o){const n=f(t.detail.value);this.filterDateStart=n.toDate();const r=o.parentNode.parentElement;r&&r.dismiss()}}changeDateEnd(t){const o=t.target;if(o){const n=f(t.detail.value);this.filterDateEnd=n.toDate();const r=o.parentNode.parentElement;r&&r.dismiss()}}getProvidersName(t){return t?t.map(o=>o.name).join(","):""}goToDelivery(t){this.redirectService.redirectTo("/tabs/delivery",{deliveryId:t.id})}goToDeliveryDetail(t){var o=this;return(0,u.Z)(function*(){const n=yield o.dialogService.showLoading();o.deliveryCssSelected=t,o.groupView=!1,n.dismiss()})()}closePopover(){this.popoverTransaction&&this.popoverTransaction.dismiss()}presentPopoverClientAction(t,o,n){this.clientSelected=n,this.popoverClient&&(this.popoverClient.event=t),this.isOpenClientSelected=!0}closeClientPopover(){this.popoverClient&&this.popoverClient.dismiss()}goToClientDetail(t){this.closeClientPopover(),this.redirectService.redirectTo("tabs/client-detail",{clientId:t.id})}closeGridView(){var t=this;return(0,u.Z)(function*(){if(!t.groupView){t.groupView=!0;const o=yield t.dialogService.showLoading();setTimeout(()=>{o.dismiss()},500)}})()}static#e=this.\u0275fac=function(o){return new(o||i)(e.Y36(O.p),e.Y36(v.O6),e.Y36(v.VH),e.Y36(v.V1),e.Y36(v.xA),e.Y36(T.gz))};static#t=this.\u0275cmp=e.Xpm({type:i,selectors:[["app-tab2"]],viewQuery:function(o,n){if(1&o&&(e.Gf(q,5),e.Gf(J,5)),2&o){let r;e.iGM(r=e.CRH())&&(n.popoverTransaction=r.first),e.iGM(r=e.CRH())&&(n.popoverClient=r.first)}},decls:38,vars:24,consts:[[3,"translucent"],[1,"ion-padding-landscape-head"],["slot","start"],[4,"ngIf"],["slot","end"],["color","primary","fill","solid","size","small","id","click-new-trigger",1,"button-new",3,"ngStyle"],["slot","end","name","add-circle-outline"],["class","button-new","color","primary","fill","solid","size","small",3,"click",4,"ngIf"],["trigger","click-new-trigger","triggerAction","click",3,"ngStyle"],["popoverTransaction",""],["color","light",1,"ion-padding",3,"fullscreen"],[1,"ion-padding-landscape"],["class","ion-text-center",4,"ngIf"],[1,"display-flex","color-gray","margin-left-1","margin-top-1",3,"click"],["name","funnel-outline",1,"filter-icon"],[1,"margin-top-03",3,"name"],["class","container-filter color-gray",4,"ngIf"],[1,"display-flex"],["show-clear-button","always","placeholder","Buscar Viaje/Proveedor/Cliente",3,"ionInput"],[3,"click"],["name","grid-outline",1,"icon-grid-view",3,"ngClass"],["class","ion-text-end",4,"ngIf"],["class","ion-text-start",4,"ngIf"],["class","ion-text-center padding-3",4,"ngIf"],["class","",4,"ngIf"],[3,"isOpen","didDismiss"],["popoverClient",""],["position","bottom","threshold","30%",3,"ionInfinite"],["loadingSpinner","crescent","loadingText","Cargando m\xe1s datos..."],["color","primary","fill","solid","size","small",1,"button-new",3,"click"],[1,"ion-padding"],["class","width-110",3,"button","detail","click",4,"ngFor","ngForOf"],[1,"width-110",3,"button","detail","click"],[1,"ion-text-center"],[1,"container-filter","color-gray"],[3,"size"],["mode","md","subHeader","Lista de Proveedores","interface","popover","label","Proveedor","label-placement","floating","fill","outline",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["mode","md","label","Cliente","label-placement","floating","fill","solid",3,"ngModel","ngModelChange"],[1,"line-top","margin-auto","margin-top-1"],["datetime","datetime-start",3,"ngClass"],[3,"keepContentsMounted"],["datetime","datetime-end",3,"ngClass"],["size","12",1,"display-flex"],[3,"ngModel","ngModelChange"],[1,"ion-text-end","width-100"],["size","small","fill","outline","color","primary",1,"clear-date-filter","margin-left-auto",3,"click"],["size","small","fill","outline","color","medium",1,"clear-date-filter","margin-left-1",3,"click"],[3,"value"],["presentation","date","id","datetime-start",3,"ionChange"],["presentation","date","id","datetime-end",3,"ionChange"],[1,"ion-text-end"],[1,"fa-solid","fa-arrow-turn-up","icon-show-group"],[1,"ion-text-start"],[1,"fa-solid","fa-arrow-turn-down","icon-show-delivery"],[1,"ion-text-center","padding-3"],[1,""],["class","padding-0",3,"ngClass",4,"ngFor","ngForOf"],[1,"padding-0",3,"ngClass"],[3,"size","click"],[1,"cd-timeline-block"],[1,"cd-timeline-content",3,"ngClass"],[1,"margin-0","padding-0"],["name","alert-circle-outline","class","warning",4,"ngIf"],["class","table ion-padding",4,"ngIf"],["name","alert-circle-outline",1,"warning"],[1,"table","ion-padding"],[1,"row-head","background-color-light-blue"],["class","row-body",4,"ngFor","ngForOf"],[1,"row-foot","background-color-light-blue"],[1,"text-align-right"],[1,"row-body"],[1,"sticky",3,"ngClass"],["size","12",1,"background-color-light-blue","padding-left-1","padding-top-1"],[1,"margin-0","padding-0","display-flex"],[1,"col-95"],[1,"margin-auto","col-05","icon-edit",3,"click"],["name","create-outline"],["size","12","class"," margin-0 padding-0 ",4,"ngIf"],[4,"ngFor","ngForOf"],[1,"background-color-light-blue","margin-bottom-2",3,"ngClass"],[1,"margin-left-03","margin-bottom-05","margin-top-05",3,"size"],[1,"ion-text-center","margin-bottom-05","margin-top-05",3,"size"],[1,"ion-text-end","margin-bottom-05","margin-top-05",3,"size"],["size","12",1,"margin-0","padding-0"],[1,"background-color-light-blue","ion-text-center","padding-right-1","padding-left-1","padding-bottom-1"],["size","4",1,"ion-text-start"],["size","3",1,"ion-text-start"],["size","2"],["size","3",1,"ion-text-end"],["class","padding-1 background-color-white",3,"ngClass",4,"ngIf"],[1,"padding-1","background-color-white",3,"ngClass"],["size","4",1,"ellipsis-txt"],[1,"client-name",3,"click"],["size","3",1,"ellipsis-txt"],["size","2",1,"ion-text-center"],["class","border-bottom background-color-white",3,"ngClass",4,"ngIf"],[1,"border-bottom","background-color-white",3,"ngClass"],["size","4",1,"background-color-light-blue","padding-left-1"],["size","8",1,"ellipsis-txt","ion-text-center"],["size","8",1,"ion-text-center"],[2,"width","100%",3,"animated"],[3,"button","detail","click"]],template:function(o,n){1&o&&(e.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),e._UZ(3,"app-icon-logo"),e.qZA(),e._UZ(4,"ion-title"),e.YNc(5,U,2,0,"ion-title",3),e.TgZ(6,"ion-buttons",4)(7,"ion-button",5),e._uU(8," Nuevo Viaje "),e._UZ(9,"ion-icon",6),e.qZA(),e.YNc(10,F,3,0,"ion-button",7),e._UZ(11,"ion-menu-button"),e.TgZ(12,"ion-popover",8,9),e.YNc(14,k,3,1,"ng-template"),e.qZA()()()(),e.TgZ(15,"ion-content",10)(16,"div",11),e.YNc(17,N,2,0,"h6",12),e.TgZ(18,"div")(19,"div",13),e.NdJ("click",function(){return n.showDateFilter=!n.showDateFilter}),e._UZ(20,"ion-icon",14)(21,"ion-icon",15),e.qZA()(),e.YNc(22,Y,31,17,"ion-grid",16),e.TgZ(23,"div",17)(24,"ion-searchbar",18),e.NdJ("ionInput",function(a){return n.findDeliverySearch(a)}),e.qZA(),e.TgZ(25,"div",19),e.NdJ("click",function(){return n.closeGridView()}),e._UZ(26,"ion-icon",20),e.qZA()(),e.YNc(27,V,3,0,"div",21)(28,E,3,0,"div",22)(29,G,2,0,"div",23)(30,$,2,1,"ion-grid",24)(31,re,2,1,"ng-container",3)(32,le,8,6,"ion-grid",24),e.TgZ(33,"ion-popover",25,26),e.NdJ("didDismiss",function(){return n.isOpenClientSelected=!1}),e.YNc(35,se,1,0,null,3),e.qZA(),e.TgZ(36,"ion-infinite-scroll",27),e.NdJ("ionInfinite",function(a){return n.loadMore(a)}),e._UZ(37,"ion-infinite-scroll-content",28),e.qZA()()()),2&o&&(e.Q6J("translucent",!0),e.xp6(5),e.Q6J("ngIf",!n.isSmallScreen),e.xp6(2),e.Q6J("ngStyle",e.VKq(18,ce,n.transactionCreditTypes.length>1?"revert-layer":"0")),e.xp6(3),e.Q6J("ngIf",1==n.transactionCreditTypes.length),e.xp6(2),e.Q6J("ngStyle",e.DdM(20,de)),e.xp6(3),e.Q6J("fullscreen",!0),e.xp6(2),e.Q6J("ngIf",n.isSmallScreen),e.xp6(4),e.Q6J("name",n.showDateFilter?"caret-down-outline":"caret-forward-outline"),e.xp6(1),e.Q6J("ngIf",n.showDateFilter),e.xp6(4),e.Q6J("ngClass",e.WLB(21,ge,!n.groupView,n.groupView)),e.xp6(1),e.Q6J("ngIf",!n.groupView),e.xp6(1),e.Q6J("ngIf",n.groupView&&n._deliveryCssFilter&&n._deliveryCssFilter.length>0),e.xp6(1),e.Q6J("ngIf",n._deliveryCssFilter&&0==n._deliveryCssFilter.length&&n.deliveryCssOri.length>0),e.xp6(1),e.Q6J("ngIf",n.loading&&n.groupView),e.xp6(1),e.Q6J("ngIf",n.loading&&!n.groupView),e.xp6(1),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("isOpen",n.isOpenClientSelected),e.xp6(2),e.Q6J("ngIf",n.clientSelected))},dependencies:[s.YG,s.Sm,s.nz,s.wI,s.W2,s.x4,s.Mj,s.jY,s.Gu,s.gu,s.ju,s.MB,s.Ie,s.Q$,s.q_,s.fG,s.Nd,s.VI,s.t9,s.n0,s.CK,s.wd,s.sr,s.ki,s.d8,s.w,s.QI,s.j9,m.mk,m.sg,m.O5,m.PC,C.JJ,C.On,M.S,A.DA,S.E],styles:['.container-filter[_ngcontent-%COMP%]{padding:1rem;border:1px solid;margin:0rem 1rem 1rem;border-radius:1rem}.container-filter[_ngcontent-%COMP%]:before{content:"Filtros";position:absolute;top:8.4rem;left:50%;background-color:var(--ion-color-light, #f4f5f8)!important;padding-left:2rem;padding-right:2rem;transform:translate(-45%)}.filter-icon[_ngcontent-%COMP%]{font-size:1.4rem}.cd-timeline-block[_ngcontent-%COMP%]{position:relative;margin:2em 0}.cd-timeline-block[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.cd-timeline-block[_ngcontent-%COMP%]:first-child{margin-top:0}.cd-timeline-block[_ngcontent-%COMP%]:last-child{margin-bottom:0}.cd-timeline-icon[_ngcontent-%COMP%]{position:absolute;color:#fff;top:0;left:0;width:40px;height:40px;border-radius:50%;border-color:var(--color-timeline);border-style:solid;border-width:2px;background:white;text-align:center;padding:.4rem;padding-top:9px}.cd-timeline-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{width:100%;height:100%}.cd-timeline-icon[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:var(--color-timeline)}.cd-timeline-content[_ngcontent-%COMP%]{position:relative;background:white;border-radius:.25em;border-color:var(--color-timeline);border-color:#d3d3d3;border-style:solid;border-width:2px;margin-bottom:.5rem;padding:.8rem}.cd-timeline-content[_ngcontent-%COMP%]:after{content:"";display:table;clear:both}.cd-timeline-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#303e49}.cd-timeline-content[_ngcontent-%COMP%]   .cd-read-more[_ngcontent-%COMP%], .cd-timeline-content[_ngcontent-%COMP%]   .cd-date[_ngcontent-%COMP%]{display:inline-block}.cd-timeline-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:1em 0;line-height:1.6}.cd-timeline-content2[_ngcontent-%COMP%]:before{content:"";position:absolute;right:100%;height:0;width:0;border:7px solid transparent;border-right:7px solid white;border-right-color:inherit}.table[_ngcontent-%COMP%]{padding:0;margin-top:.5rem}.row-head[_ngcontent-%COMP%]{border-top:1px solid gray;border-bottom:1px solid gray;border-top-right-radius:12px;border-top-left-radius:12px;height:2rem;text-align:center;border:1px solid rgba(5,14,129,.5)!important}.row-head[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{height:.5rem}.row-body[_ngcontent-%COMP%]{border-left:1px solid rgba(5,14,129,.4)!important;border-right:1px solid rgba(5,14,129,.4)!important}.row-body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{text-align:center;border:1px solid rgba(5,14,129,.3)!important}.row-body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:first-child{border-left:1px solid gray}.row-body[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]:last-child{border-right:1px solid gray}.text-align-right[_ngcontent-%COMP%]{text-align:right!important;padding-right:.8rem}.row-foot[_ngcontent-%COMP%]{border-top:1px solid gray;border-bottom:1px solid gray;height:2rem;text-align:center;border:1px solid rgba(5,14,129,.5)!important;border-bottom-left-radius:12px!important;border-bottom-right-radius:12px!important}.row-foot[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{height:.5rem}.line-top[_ngcontent-%COMP%]{color:gray;position:relative;display:inline-block;font-size:.9rem}.line-top[_ngcontent-%COMP%]:before, .line-top[_ngcontent-%COMP%]:after{content:"";position:absolute;top:50%;width:50%;height:1px;background-color:gray}.line-top[_ngcontent-%COMP%]:before{left:0;transform:translate(-120%)}.line-top[_ngcontent-%COMP%]:after{right:0;transform:translate(120%)}.icon-grid-view[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:1rem;padding:.3rem}.margin-padding-0[_ngcontent-%COMP%]{padding:0;margin:0}.margin-padding-0[_ngcontent-%COMP%]   *[_ngcontent-%COMP%]{margin:0;padding:0}.col-05[_ngcontent-%COMP%]{width:5%}.col-95[_ngcontent-%COMP%]{width:95%}.syncRequired[_ngcontent-%COMP%]{border:2px dashed rgba(255,202,34,.5)}.syncRequired-border[_ngcontent-%COMP%]{border-left:2px dashed rgba(255,202,34,.5);border-right:2px dashed rgba(255,202,34,.5)}.syncRequired.negative-value[_ngcontent-%COMP%]{color:#216f40}.warning[_ngcontent-%COMP%]{color:orange;margin-right:.5rem}.icon-edit[_ngcontent-%COMP%]{font-size:2rem;text-align:center;padding-right:3rem}@media only screen and (max-width: 470px){.padding-small[_ngcontent-%COMP%]{width:117%;margin-left:-7%}}.icon-show-group[_ngcontent-%COMP%]{margin-right:.65rem;margin-left:.5rem;margin-bottom:2rem}.icon-show-delivery[_ngcontent-%COMP%]{margin:2rem .65rem .5rem 1.5rem;transform:scaleX(-1)}.client-name[_ngcontent-%COMP%]{background-color:#ddebf7!important;padding:1rem;border-radius:1rem}'],data:{animation:[Z.qy]}})}return i})()}];let pe=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[T.Bz.forChild(_e),T.Bz]})}return i})();var ue=d(8434);let me=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.oAB({type:i});static#i=this.\u0275inj=e.cJS({imports:[s.Pc,m.ez,C.u5,ue.K,pe]})}return i})()}}]);