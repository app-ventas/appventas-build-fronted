"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[7386],{7386:(Pa,zn,P)=>{P.r(zn),P.d(zn,{FirebaseAuthenticationWeb:()=>Ra});var a=P(5861),ui=P(2726),d=P(9058),S=P(534),Ne=P(7879),we=P(7582),$n=P(4537);const ci=function Bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Kn=new d.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ie=new Ne.Yd("@firebase/auth");function se(r,...t){ie.logLevel<=Ne.in.ERROR&&ie.error(`Auth (${S.Jn}): ${r}`,...t)}function E(r,...t){throw Oe(r,...t)}function R(r,...t){return Oe(r,...t)}function jn(r,t,e){const n=Object.assign(Object.assign({},ci()),{[t]:e});return new d.LL("auth","Firebase",n).create(t,{appName:r.name})}function W(r,t,e){if(!(t instanceof e))throw e.name!==t.constructor.name&&E(r,"argument-error"),jn(r,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Oe(r,...t){if("string"!=typeof r){const e=t[0],n=[...t.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(e,...n)}return Kn.create(r,...t)}function l(r,t,...e){if(!r)throw Oe(t,...e)}function k(r){const t="INTERNAL ASSERTION FAILED: "+r;throw se(t),new Error(t)}function O(r,t){r||k(t)}function z(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.href)||""}function Ce(){return"http:"===Yn()||"https:"===Yn()}function Yn(){var r;return typeof self<"u"&&(null===(r=self.location)||void 0===r?void 0:r.protocol)||null}class ${constructor(t,e){this.shortDelay=t,this.longDelay=e,O(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,d.uI)()||(0,d.b$)()}get(){return function di(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ce()||(0,d.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function be(r,t){O(r.emulator,"Emulator should always be set here");const{url:e}=r.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class Jn{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void k("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void k("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void k("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const fi={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},pi=new $(3e4,6e4);function _(r,t){return r.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:r.tenantId}):t}function g(r,t,e,n){return Le.apply(this,arguments)}function Le(){return(Le=(0,a.Z)(function*(r,t,e,n,i={}){return Xn(r,i,(0,a.Z)(function*(){let s={},o={};n&&("GET"===t?o=n:s={body:JSON.stringify(n)});const u=(0,d.xO)(Object.assign({key:r.config.apiKey},o)).slice(1),c=yield r._getAdditionalHeaders();return c["Content-Type"]="application/json",r.languageCode&&(c["X-Firebase-Locale"]=r.languageCode),Jn.fetch()(Qn(r,r.config.apiHost,e,u),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Xn(r,t,e){return De.apply(this,arguments)}function De(){return(De=(0,a.Z)(function*(r,t,e){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},fi),t);try{const i=new _i(r),s=yield Promise.race([e(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw B(r,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const u=s.ok?o.errorMessage:o.error.message,[c,h]=u.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw B(r,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw B(r,"email-already-in-use",o);if("USER_DISABLED"===c)throw B(r,"user-disabled",o);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(h)throw jn(r,f,h);E(r,f)}}catch(i){if(i instanceof d.ZR)throw i;E(r,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function C(r,t,e,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,a.Z)(function*(r,t,e,n,i={}){const s=yield g(r,t,e,n,i);return"mfaPendingCredential"in s&&E(r,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Qn(r,t,e,n){const i=`${t}${e}?${n}`;return r.config.emulator?be(r.config,i):`${r.config.apiScheme}://${i}`}function mi(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _i{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,n)=>{this.timer=setTimeout(()=>n(R(this.auth,"network-request-failed")),pi.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function B(r,t,e){const n={appName:r.name};e.email&&(n.email=e.email),e.phoneNumber&&(n.phoneNumber=e.phoneNumber);const i=R(r,t,n);return i.customData._tokenResponse=e,i}function er(r){return void 0!==r&&void 0!==r.getResponse}function tr(r){return void 0!==r&&void 0!==r.enterprise}class nr{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===t.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return mi(e.enforcementState);return null}isProviderEnabled(t){return"ENFORCE"===this.getProviderEnforcementState(t)||"AUDIT"===this.getProviderEnforcementState(t)}}function Me(){return(Me=(0,a.Z)(function*(r){return(yield g(r,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function rr(r,t){return xe.apply(this,arguments)}function xe(){return(xe=(0,a.Z)(function*(r,t){return g(r,"GET","/v2/recaptchaConfig",_(r,t))})).apply(this,arguments)}function Fe(){return(Fe=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function Ve(){return(Ve=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Ze(){return(Ze=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function K(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}function We(){return(We=(0,a.Z)(function*(r,t=!1){const e=(0,d.m9)(r),n=yield e.getIdToken(t),i=oe(n);l(i&&i.exp&&i.auth_time&&i.iat,e.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:n,authTime:K(Ge(i.auth_time)),issuedAtTime:K(Ge(i.iat)),expirationTime:K(Ge(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function Ge(r){return 1e3*Number(r)}function oe(r){const[t,e,n]=r.split(".");if(void 0===t||void 0===e||void 0===n)return se("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,d.tV)(e);return i?JSON.parse(i):(se("Failed to decode base64 JWT payload"),null)}catch(i){return se("Caught error parsing JWT payload as JSON",i?.toString()),null}}function b(r,t){return He.apply(this,arguments)}function He(){return(He=(0,a.Z)(function*(r,t,e=!1){if(e)return t;try{return yield t}catch(n){throw n instanceof d.ZR&&function Ri({code:r}){return"auth/user-disabled"===r||"auth/user-token-expired"===r}(n)&&r.auth.currentUser===r&&(yield r.auth.signOut()),n}})).apply(this,arguments)}class Si{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}{this.errorBackoff=3e4;const i=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,a.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,a.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e?.code&&t.schedule(!0))}t.schedule()})()}}class ir{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function j(r){return qe.apply(this,arguments)}function qe(){return qe=(0,a.Z)(function*(r){var t;const e=r.auth,n=yield r.getIdToken(),i=yield b(r,function yi(r,t){return Ze.apply(this,arguments)}(e,{idToken:n}));l(i?.users.length,e,"internal-error");const s=i.users[0];r._notifyReloadListener(s);const o=null!==(t=s.providerUserInfo)&&void 0!==t&&t.length?function Pi(r){return r.map(t=>{var{providerId:e}=t,n=(0,we._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}(s.providerUserInfo):[],u=function Ai(r,t){return[...r.filter(n=>!t.some(i=>i.providerId===n.providerId)),...t]}(r.providerData,o),f=!!r.isAnonymous&&!(r.email&&s.passwordHash||u?.length),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new ir(s.createdAt,s.lastLoginAt),isAnonymous:f};Object.assign(r,p)}),qe.apply(this,arguments)}function sr(r){return ze.apply(this,arguments)}function ze(){return(ze=(0,a.Z)(function*(r){const t=(0,d.m9)(r);yield j(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function $e(){return($e=(0,a.Z)(function*(r,t){const e=yield Xn(r,{},(0,a.Z)(function*(){const n=(0,d.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=r.config,o=Qn(r,i,"/v1/token",`key=${s}`),u=yield r._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",Jn.fetch()(o,{method:"POST",headers:u,body:n})}));return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}})).apply(this,arguments)}function Be(){return(Be=(0,a.Z)(function*(r,t){return g(r,"POST","/v2/accounts:revokeToken",_(r,t))})).apply(this,arguments)}class Y{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){l(t.idToken,"internal-error"),l(typeof t.idToken<"u","internal-error"),l(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):function Ti(r){const t=oe(r);return l(t,"internal-error"),l(typeof t.exp<"u","internal-error"),l(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,a.Z)(function*(){return l(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,a.Z)(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function ki(r,t){return $e.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:i,expirationTime:s}=e,o=new Y;return n&&(l("string"==typeof n,"internal-error",{appName:t}),o.refreshToken=n),i&&(l("string"==typeof i,"internal-error",{appName:t}),o.accessToken=i),s&&(l("number"==typeof s,"internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Y,this.toJSON())}_performRefresh(){return k("not implemented")}}function U(r,t){l("string"==typeof r||typeof r>"u","internal-error",{appName:t})}class F{constructor(t){var{uid:e,auth:n,stsTokenManager:i}=t,s=(0,we._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Si(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ir(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,a.Z)(function*(){const n=yield b(e,e.stsTokenManager.getToken(e.auth,t));return l(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function Ei(r){return We.apply(this,arguments)}(this,t)}reload(){return sr(this)}_assign(t){this!==t&&(l(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>Object.assign({},e)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new F(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return e.metadata._copy(this.metadata),e}_onReload(t){l(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,a.Z)(function*(){let i=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),i=!0),e&&(yield j(n)),yield n.auth._persistUserIfCurrent(n),i&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,a.Z)(function*(){const e=yield t.getIdToken();return yield b(t,function Ii(r,t){return Fe.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,i,s,o,u,c,h,f;const p=null!==(n=e.displayName)&&void 0!==n?n:void 0,T=null!==(i=e.email)&&void 0!==i?i:void 0,x=null!==(s=e.phoneNumber)&&void 0!==s?s:void 0,ke=null!==(o=e.photoURL)&&void 0!==o?o:void 0,ni=null!==(u=e.tenantId)&&void 0!==u?u:void 0,Wn=null!==(c=e._redirectEventId)&&void 0!==c?c:void 0,ri=null!==(h=e.createdAt)&&void 0!==h?h:void 0,ii=null!==(f=e.lastLoginAt)&&void 0!==f?f:void 0,{uid:Gn,emailVerified:si,isAnonymous:oi,providerData:Hn,stsTokenManager:ai}=e;l(Gn&&ai,t,"internal-error");const Sa=Y.fromJSON(this.name,ai);l("string"==typeof Gn,t,"internal-error"),U(p,t.name),U(T,t.name),l("boolean"==typeof si,t,"internal-error"),l("boolean"==typeof oi,t,"internal-error"),U(x,t.name),U(ke,t.name),U(ni,t.name),U(Wn,t.name),U(ri,t.name),U(ii,t.name);const qn=new F({uid:Gn,auth:t,email:T,emailVerified:si,displayName:p,isAnonymous:oi,photoURL:ke,phoneNumber:x,tenantId:ni,stsTokenManager:Sa,createdAt:ri,lastLoginAt:ii});return Hn&&Array.isArray(Hn)&&(qn.providerData=Hn.map(Aa=>Object.assign({},Aa))),Wn&&(qn._redirectEventId=Wn),qn}static _fromIdTokenResponse(t,e,n=!1){return(0,a.Z)(function*(){const i=new Y;i.updateFromServerResponse(e);const s=new F({uid:e.localId,auth:t,stsTokenManager:i,isAnonymous:n});return yield j(s),s})()}}const or=new Map;function L(r){O(r instanceof Function,"Expected a class definition");let t=or.get(r);return t?(O(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,or.set(r,t),t)}const Ke=(()=>{class r{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,a.Z)(function*(){return!0})()}_set(e,n){var i=this;return(0,a.Z)(function*(){i.storage[e]=n})()}_get(e){var n=this;return(0,a.Z)(function*(){const i=n.storage[e];return void 0===i?null:i})()}_remove(e){var n=this;return(0,a.Z)(function*(){delete n.storage[e]})()}_addListener(e,n){}_removeListener(e,n){}}return r.type="NONE",r})();function ae(r,t,e){return`firebase:${r}:${t}:${e}`}class G{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=ae(this.userKey,i.apiKey,s),this.fullPersistenceKey=ae("persistence",i.apiKey,s),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,a.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?F._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,a.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,a.Z)(function*(){if(!e.length)return new G(L(Ke),t,n);const i=(yield Promise.all(e.map(function(){var h=(0,a.Z)(function*(f){if(yield f._isAvailable())return f});return function(f){return h.apply(this,arguments)}}()))).filter(h=>h);let s=i[0]||L(Ke);const o=ae(n,t.config.apiKey,t.name);let u=null;for(const h of e)try{const f=yield h._get(o);if(f){const p=F._fromJSON(t,f);h!==s&&(u=p),s=h;break}}catch{}const c=i.filter(h=>h._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],u&&(yield s._set(o,u.toJSON())),yield Promise.all(e.map(function(){var h=(0,a.Z)(function*(f){if(f!==s)try{yield f._remove(o)}catch{}});return function(f){return h.apply(this,arguments)}}())),new G(s,t,n)):new G(s,t,n)})()}}function ar(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lr(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ur(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(hr(t))return"Blackberry";if(fr(t))return"Webos";if(je(t))return"Safari";if((t.includes("chrome/")||cr(t))&&!t.includes("edge/"))return"Chrome";if(dr(t))return"Android";{const n=r.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===n?.length)return n[1]}return"Other"}function ur(r=(0,d.z$)()){return/firefox\//i.test(r)}function je(r=(0,d.z$)()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function cr(r=(0,d.z$)()){return/crios\//i.test(r)}function lr(r=(0,d.z$)()){return/iemobile/i.test(r)}function dr(r=(0,d.z$)()){return/android/i.test(r)}function hr(r=(0,d.z$)()){return/blackberry/i.test(r)}function fr(r=(0,d.z$)()){return/webos/i.test(r)}function ue(r=(0,d.z$)()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function pr(r=(0,d.z$)()){return ue(r)||dr(r)||fr(r)||hr(r)||/windows phone/i.test(r)||lr(r)}function mr(r,t=[]){let e;switch(r){case"Browser":e=ar((0,d.z$)());break;case"Worker":e=`${ar((0,d.z$)())}-${r}`;break;default:e=r}const n=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${S.Jn}/${n}`}class bi{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const n=s=>new Promise((o,u)=>{try{o(t(s))}catch(c){u(c)}});n.onAbort=e,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(t){var e=this;return(0,a.Z)(function*(){if(e.auth.currentUser===t)return;const n=[];try{for(const i of e.queue)yield i(t),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw e.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function Ye(){return(Ye=(0,a.Z)(function*(r,t={}){return g(r,"GET","/v2/passwordPolicy",_(r,t))})).apply(this,arguments)}class Ui{constructor(t){var e,n,i,s;const o=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(e=o.minPasswordLength)&&void 0!==e?e:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(n=t.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=t.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=t.schemaVersion}validatePassword(t){var e,n,i,s,o,u;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,c),this.validatePasswordCharacterOptions(t,c),c.isValid&&(c.isValid=null===(e=c.meetsMinPasswordLength)||void 0===e||e),c.isValid&&(c.isValid=null===(n=c.meetsMaxPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(u=c.containsNonAlphanumericCharacter)||void 0===u||u),c}validatePasswordLengthOptions(t,e){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(e.meetsMinPasswordLength=t.length>=n),i&&(e.meetsMaxPasswordLength=t.length<=i)}validatePasswordCharacterOptions(t,e){let n;this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);for(let i=0;i<t.length;i++)n=t.charAt(i),this.updatePasswordCharacterOptionsStatuses(e,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(t,e,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=s))}}class Mi{constructor(t,e,n,i){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _r(this),this.idTokenSubscription=new _r(this),this.beforeStateQueue=new bi(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=L(e)),this._initializationPromise=this.queue((0,a.Z)(function*(){var i,s;if(!n._deleted&&(n.persistenceManager=yield G.create(n,t),!n._deleted)){if(null!==(i=n._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch{}yield n.initializeCurrentUser(e),n.lastNotifiedUid=(null===(s=n.currentUser)||void 0===s?void 0:s.uid)||null,!n._deleted&&(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,a.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e,!0)}})()}initializeCurrentUser(t){var e=this;return(0,a.Z)(function*(){var n;const i=yield e.assertedPersistence.getCurrentUser();let s=i,o=!1;if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const u=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,c=s?._redirectEventId,h=yield e.tryRedirectSignIn(t);(!u||u===c)&&h?.user&&(s=h.user,o=!0)}if(!s)return e.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield e.beforeStateQueue.runMiddleware(s)}catch(u){s=i,e._popupRedirectResolver._overrideRedirectResult(e,()=>Promise.reject(u))}return s?e.reloadAndSetCurrentUserOrClear(s):e.directlySetCurrentUser(null)}return l(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===s._redirectEventId?e.directlySetCurrentUser(s):e.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(t){var e=this;return(0,a.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch{yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,a.Z)(function*(){try{yield j(t)}catch(n){if("auth/network-request-failed"!==n?.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function hi(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}()}_delete(){var t=this;return(0,a.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,a.Z)(function*(){const n=t?(0,d.m9)(t):null;return n&&l(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t,e=!1){var n=this;return(0,a.Z)(function*(){if(!n._deleted)return t&&l(n.tenantId===t.tenantId,n,"tenant-id-mismatch"),e||(yield n.beforeStateQueue.runMiddleware(t)),n.queue((0,a.Z)(function*(){yield n.directlySetCurrentUser(t),n.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,a.Z)(function*(){return yield t.beforeStateQueue.runMiddleware(null),(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null,!0)})()}setPersistence(t){var e=this;return this.queue((0,a.Z)(function*(){yield e.assertedPersistence.setPersistence(L(t))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(t){var e=this;return(0,a.Z)(function*(){e._getPasswordPolicyInternal()||(yield e._updatePasswordPolicy());const n=e._getPasswordPolicyInternal();return n.schemaVersion!==e.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(e._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(t)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var t=this;return(0,a.Z)(function*(){const e=yield function Li(r){return Ye.apply(this,arguments)}(t),n=new Ui(e);null===t.tenantId?t._projectPasswordPolicy=n:t._tenantPasswordPolicies[t.tenantId]=n})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new d.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const n=this.onAuthStateChanged(()=>{n(),t()},e)}})}revokeAccessToken(t){var e=this;return(0,a.Z)(function*(){if(e.currentUser){const n=yield e.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:n};null!=e.tenantId&&(i.tenantId=e.tenantId),yield function Ni(r,t){return Be.apply(this,arguments)}(e,i)}})()}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,a.Z)(function*(){const i=yield n.getOrInitRedirectPersistenceManager(e);return null===t?i.removeCurrentUser():i.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,a.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&L(t)||e._popupRedirectResolver;l(n,e,"argument-error"),e.redirectPersistenceManager=yield G.create(e,[L(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,a.Z)(function*(){var n,i;return e._isInitialized&&(yield e.queue((0,a.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,a.Z)(function*(){if(t===e.currentUser)return e.queue((0,a.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,i){if(this._deleted)return()=>{};const s="function"==typeof e?e:e.next.bind(e);let o=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(l(u,this,"internal-error"),u.then(()=>{o||s(this.currentUser)}),"function"==typeof e){const c=t.addObserver(e,n,i);return()=>{o=!0,c()}}{const c=t.addObserver(e);return()=>{o=!0,c()}}}directlySetCurrentUser(t){var e=this;return(0,a.Z)(function*(){e.currentUser&&e.currentUser!==t&&e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh(),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return l(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=mr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var t=this;return(0,a.Z)(function*(){var e;const n={"X-Client-Version":t.clientVersion};t.app.options.appId&&(n["X-Firebase-gmpid"]=t.app.options.appId);const i=yield null===(e=t.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader();i&&(n["X-Firebase-Client"]=i);const s=yield t._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n})()}_getAppCheckToken(){var t=this;return(0,a.Z)(function*(){var e;const n=yield null===(e=t.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken();return n?.error&&function li(r,...t){ie.logLevel<=Ne.in.WARN&&ie.warn(`Auth (${S.Jn}): ${r}`,...t)}(`Error while retrieving App Check token: ${n.error}`),n?.token})()}}function I(r){return(0,d.m9)(r)}class _r{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,d.ne)(e=>this.observer=e)}get next(){return l(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Je(r){return new Promise((t,e)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=t,n.onerror=i=>{const s=R("internal-error");s.customData=i,e(s)},n.type="text/javascript",n.charset="UTF-8",function xi(){var r,t;return null!==(t=null===(r=document.getElementsByTagName("head"))||void 0===r?void 0:r[0])&&void 0!==t?t:document}().appendChild(n)})}function gr(r){return`__${r}${Math.floor(1e6*Math.random())}`}class Ir{constructor(t){this.type="recaptcha-enterprise",this.auth=I(t)}verify(t="verify",e=!1){var n=this;return(0,a.Z)(function*(){function s(){return s=(0,a.Z)(function*(u){if(!e){if(null==u.tenantId&&null!=u._agentRecaptchaConfig)return u._agentRecaptchaConfig.siteKey;if(null!=u.tenantId&&void 0!==u._tenantRecaptchaConfigs[u.tenantId])return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(function(){var c=(0,a.Z)(function*(h,f){rr(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(void 0!==p.recaptchaKey){const T=new nr(p);return null==u.tenantId?u._agentRecaptchaConfig=T:u._tenantRecaptchaConfigs[u.tenantId]=T,h(T.siteKey)}f(new Error("recaptcha Enterprise site key undefined"))}).catch(p=>{f(p)})});return function(h,f){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(u,c,h){const f=window.grecaptcha;tr(f)?f.enterprise.ready(()=>{f.enterprise.execute(u,{action:t}).then(p=>{c(p)}).catch(()=>{c("NO_RECAPTCHA")})}):h(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((u,c)=>{(function i(u){return s.apply(this,arguments)})(n.auth).then(h=>{if(!e&&tr(window.grecaptcha))o(h,u,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));Je("https://www.google.com/recaptcha/enterprise.js?render="+h).then(()=>{o(h,u,c)}).catch(f=>{c(f)})}}).catch(h=>{c(h)})})})()}}function vr(r,t,e){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,a.Z)(function*(r,t,e,n=!1){const i=new Ir(r);let s;try{s=yield i.verify(e)}catch{s=yield i.verify(e,!0)}const o=Object.assign({},t);return Object.assign(o,n?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function J(r,t,e,n){return Qe.apply(this,arguments)}function Qe(){return Qe=(0,a.Z)(function*(r,t,e,n){var i;if(null!==(i=r._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield vr(r,t,e,"getOobCode"===e);return n(r,s)}return n(r,t).catch(function(){var s=(0,a.Z)(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=yield vr(r,t,e,"getOobCode"===e);return n(r,u)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),Qe.apply(this,arguments)}function tt(r,t,e){const n=I(r);l(n._canInitEmulator,n,"emulator-config-failed"),l(/^https?:\/\//.test(t),n,"invalid-emulator-scheme");const i=!!e?.disableWarnings,s=yr(t),{host:o,port:u}=function qi(r){const t=yr(r),e=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!e)return{host:"",port:null};const n=e[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:Er(n.substr(s.length+1))}}{const[s,o]=n.split(":");return{host:s,port:Er(o)}}}(t);n.config.emulator={url:`${s}//${o}${null===u?"":`:${u}`}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:o,port:u,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function zi(){function r(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",r):r())}()}function yr(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function Er(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}class ce{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return k("not implemented")}_getIdTokenResponse(t){return k("not implemented")}_linkToIdToken(t,e){return k("not implemented")}_getReauthenticationResolver(t){return k("not implemented")}}function nt(){return(nt=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:resetPassword",_(r,t))})).apply(this,arguments)}function rt(){return(rt=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Bi(r,t){return it.apply(this,arguments)}function it(){return(it=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:signUp",t)})).apply(this,arguments)}function st(){return(st=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:update",_(r,t))})).apply(this,arguments)}function ji(r,t){return ot.apply(this,arguments)}function ot(){return(ot=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithPassword",_(r,t))})).apply(this,arguments)}function le(r,t){return at.apply(this,arguments)}function at(){return(at=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:sendOobCode",_(r,t))})).apply(this,arguments)}function ut(){return(ut=(0,a.Z)(function*(r,t){return le(r,t)})).apply(this,arguments)}function Ji(r,t){return ct.apply(this,arguments)}function ct(){return(ct=(0,a.Z)(function*(r,t){return le(r,t)})).apply(this,arguments)}function Xi(r,t){return lt.apply(this,arguments)}function lt(){return(lt=(0,a.Z)(function*(r,t){return le(r,t)})).apply(this,arguments)}function ht(){return(ht=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithEmailLink",_(r,t))})).apply(this,arguments)}function ft(){return(ft=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithEmailLink",_(r,t))})).apply(this,arguments)}class X extends ce{constructor(t,e,n,i=null){super("password",n),this._email=t,this._password=e,this._tenantId=i}static _fromEmailAndPassword(t,e){return new X(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new X(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if(e?.email&&e?.password){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,a.Z)(function*(){switch(e.signInMethod){case"password":return J(t,{returnSecureToken:!0,email:e._email,password:e._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",ji);case"emailLink":return function es(r,t){return ht.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:E(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,a.Z)(function*(){switch(n.signInMethod){case"password":return J(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Bi);case"emailLink":return function ts(r,t){return ft.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:E(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function D(r,t){return pt.apply(this,arguments)}function pt(){return(pt=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithIdp",_(r,t))})).apply(this,arguments)}class N extends ce{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new N(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):E("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:i}=e,s=(0,we._T)(e,["providerId","signInMethod"]);if(!n||!i)return null;const o=new N(n,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){return D(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,D(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,D(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,d.xO)(e)}return t}}function mt(){return(mt=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:sendVerificationCode",_(r,t))})).apply(this,arguments)}function _t(){return(_t=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithPhoneNumber",_(r,t))})).apply(this,arguments)}function gt(){return(gt=(0,a.Z)(function*(r,t){const e=yield C(r,"POST","/v1/accounts:signInWithPhoneNumber",_(r,t));if(e.temporaryProof)throw B(r,"account-exists-with-different-credential",e);return e})).apply(this,arguments)}const os={USER_NOT_FOUND:"user-not-found"};function It(){return(It=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithPhoneNumber",_(r,Object.assign(Object.assign({},t),{operation:"REAUTH"})),os)})).apply(this,arguments)}class Q extends ce{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new Q({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new Q({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function is(r,t){return _t.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function ss(r,t){return gt.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function as(r,t){return It.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:i}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:i}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:s}=t;return n||e||i||s?new Q({verificationId:e,verificationCode:n,phoneNumber:i,temporaryProof:s}):null}}class ee{constructor(t){var e,n,i,s,o,u;const c=(0,d.zd)((0,d.pd)(t)),h=null!==(e=c.apiKey)&&void 0!==e?e:null,f=null!==(n=c.oobCode)&&void 0!==n?n:null,p=function us(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);l(h&&f&&p,"argument-error"),this.apiKey=h,this.operation=p,this.code=f,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=c.tenantId)&&void 0!==u?u:null}static parseLink(t){const e=function cs(r){const t=(0,d.zd)((0,d.pd)(r)).link,e=t?(0,d.zd)((0,d.pd)(t)).deep_link_id:null,n=(0,d.zd)((0,d.pd)(r)).deep_link_id;return(n?(0,d.zd)((0,d.pd)(n)).link:null)||n||e||t||r}(t);try{return new ee(e)}catch{return null}}}let de=(()=>{class r{constructor(){this.providerId=r.PROVIDER_ID}static credential(e,n){return X._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=ee.parseLink(n);return l(i,"argument-error"),X._fromEmailAndCode(e,i.code,i.tenantId)}}return r.PROVIDER_ID="password",r.EMAIL_PASSWORD_SIGN_IN_METHOD="password",r.EMAIL_LINK_SIGN_IN_METHOD="emailLink",r})();class M{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class H extends M{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class y extends H{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return l("providerId"in e&&"signInMethod"in e,"argument-error"),N._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return l(t.idToken||t.accessToken,"argument-error"),N._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return y.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return y.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:u}=t;if(!n&&!i&&!e&&!s||!u)return null;try{return new y(u)._credential({idToken:e,accessToken:n,nonce:o,pendingToken:s})}catch{return null}}}let he=(()=>{class r extends H{constructor(){super("facebook.com")}static credential(e){return N._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return r.credentialFromTaggedObject(e)}static credentialFromError(e){return r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return r.credential(e.oauthAccessToken)}catch{return null}}}return r.FACEBOOK_SIGN_IN_METHOD="facebook.com",r.PROVIDER_ID="facebook.com",r})(),fe=(()=>{class r extends H{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return N._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return r.credentialFromTaggedObject(e)}static credentialFromError(e){return r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return r.credential(n,i)}catch{return null}}}return r.GOOGLE_SIGN_IN_METHOD="google.com",r.PROVIDER_ID="google.com",r})(),pe=(()=>{class r extends H{constructor(){super("github.com")}static credential(e){return N._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return r.credentialFromTaggedObject(e)}static credentialFromError(e){return r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return r.credential(e.oauthAccessToken)}catch{return null}}}return r.GITHUB_SIGN_IN_METHOD="github.com",r.PROVIDER_ID="github.com",r})(),me=(()=>{class r extends H{constructor(){super("twitter.com")}static credential(e,n){return N._fromParams({providerId:r.PROVIDER_ID,signInMethod:r.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return r.credentialFromTaggedObject(e)}static credentialFromError(e){return r.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return r.credential(n,i)}catch{return null}}}return r.TWITTER_SIGN_IN_METHOD="twitter.com",r.PROVIDER_ID="twitter.com",r})();function Rr(r,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signUp",_(r,t))})).apply(this,arguments)}class A{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,i=!1){return(0,a.Z)(function*(){const s=yield F._fromIdTokenResponse(t,n,i),o=Sr(n);return new A({user:s,providerId:o,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,a.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const i=Sr(n);return new A({user:t,providerId:i,_tokenResponse:n,operationType:e})})()}}function Sr(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}function Et(){return(Et=(0,a.Z)(function*(r){var t;const e=I(r);if(yield e._initializationPromise,null!==(t=e.currentUser)&&void 0!==t&&t.isAnonymous)return new A({user:e.currentUser,providerId:null,operationType:"signIn"});const n=yield Rr(e,{returnSecureToken:!0}),i=yield A._fromIdTokenResponse(e,"signIn",n,!0);return yield e._updateCurrentUser(i.user),i})).apply(this,arguments)}class _e extends d.ZR{constructor(t,e,n,i){var s;super(e.code,e.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,_e.prototype),this.customData={appName:t.name,tenantId:null!==(s=t.tenantId)&&void 0!==s?s:void 0,_serverResponse:e.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(t,e,n,i){return new _e(t,e,n,i)}}function Ar(r,t,e,n){return("reauthenticate"===t?e._getReauthenticationResolver(r):e._getIdTokenResponse(r)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?_e._fromErrorAndOperation(r,s,t,n):s})}function Pr(r){return new Set(r.map(({providerId:t})=>t).filter(t=>!!t))}function Tt(){return Tt=(0,a.Z)(function*(r,t){const e=(0,d.m9)(r);yield ge(!0,e,t);const{providerUserInfo:n}=yield function vi(r,t){return Ve.apply(this,arguments)}(e.auth,{idToken:yield e.getIdToken(),deleteProvider:[t]}),i=Pr(n||[]);return e.providerData=e.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(e.phoneNumber=null),yield e.auth._persistUserIfCurrent(e),e}),Tt.apply(this,arguments)}function Rt(r,t){return St.apply(this,arguments)}function St(){return(St=(0,a.Z)(function*(r,t,e=!1){const n=yield b(r,t._linkToIdToken(r.auth,yield r.getIdToken()),e);return A._forOperation(r,"link",n)})).apply(this,arguments)}function ge(r,t,e){return At.apply(this,arguments)}function At(){return(At=(0,a.Z)(function*(r,t,e){yield j(t);const i=!1===r?"provider-already-linked":"no-such-provider";l(Pr(t.providerData).has(e)===r,t.auth,i)})).apply(this,arguments)}function Pt(){return(Pt=(0,a.Z)(function*(r,t,e=!1){const{auth:n}=r,i="reauthenticate";try{const s=yield b(r,Ar(n,i,t,r),e);l(s.idToken,n,"internal-error");const o=oe(s.idToken);l(o,n,"internal-error");const{sub:u}=o;return l(r.uid===u,n,"user-mismatch"),A._forOperation(r,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&E(n,"user-mismatch"),s}})).apply(this,arguments)}function Nr(r,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,a.Z)(function*(r,t,e=!1){const n="signIn",i=yield Ar(r,n,t),s=yield A._fromIdTokenResponse(r,n,i);return e||(yield r._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Nt(r,t){return wt.apply(this,arguments)}function wt(){return(wt=(0,a.Z)(function*(r,t){return Nr(I(r),t)})).apply(this,arguments)}function wr(r,t){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,a.Z)(function*(r,t){const e=(0,d.m9)(r);return yield ge(!1,e,t.providerId),Rt(e,t)})).apply(this,arguments)}function bt(){return(bt=(0,a.Z)(function*(r,t){return C(r,"POST","/v1/accounts:signInWithCustomToken",_(r,t))})).apply(this,arguments)}function Lt(){return Lt=(0,a.Z)(function*(r,t){const e=I(r),n=yield function ms(r,t){return bt.apply(this,arguments)}(e,{token:t,returnSecureToken:!0}),i=yield A._fromIdTokenResponse(e,"signIn",n);return yield e._updateCurrentUser(i.user),i}),Lt.apply(this,arguments)}function Ie(r,t,e){var n;l((null===(n=e.url)||void 0===n?void 0:n.length)>0,r,"invalid-continue-uri"),l(typeof e.dynamicLinkDomain>"u"||e.dynamicLinkDomain.length>0,r,"invalid-dynamic-link-domain"),t.continueUrl=e.url,t.dynamicLinkDomain=e.dynamicLinkDomain,t.canHandleCodeInApp=e.handleCodeInApp,e.iOS&&(l(e.iOS.bundleId.length>0,r,"missing-ios-bundle-id"),t.iOSBundleId=e.iOS.bundleId),e.android&&(l(e.android.packageName.length>0,r,"missing-android-pkg-name"),t.androidInstallApp=e.android.installApp,t.androidMinimumVersionCode=e.android.minimumVersion,t.androidPackageName=e.android.packageName)}function xt(r){return Ft.apply(this,arguments)}function Ft(){return(Ft=(0,a.Z)(function*(r){const t=I(r);t._getPasswordPolicyInternal()&&(yield t._updatePasswordPolicy())})).apply(this,arguments)}function Vt(){return(Vt=(0,a.Z)(function*(r,t,e){const n=I(r),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};e&&Ie(n,i,e),yield J(n,i,"getOobCode",Ji)})).apply(this,arguments)}function Zt(){return Zt=(0,a.Z)(function*(r,t,e){yield function Tr(r,t){return nt.apply(this,arguments)}((0,d.m9)(r),{oobCode:t,newPassword:e}).catch(function(){var n=(0,a.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&xt(r),i});return function(i){return n.apply(this,arguments)}}())}),Zt.apply(this,arguments)}function Wt(){return Wt=(0,a.Z)(function*(r,t){yield function Ki(r,t){return st.apply(this,arguments)}((0,d.m9)(r),{oobCode:t})}),Wt.apply(this,arguments)}function qt(){return(qt=(0,a.Z)(function*(r,t,e){const n=I(r),o=yield J(n,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rr).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&xt(r),c}),u=yield A._fromIdTokenResponse(n,"signIn",o);return yield n._updateCurrentUser(u.user),u})).apply(this,arguments)}function zt(){return(zt=(0,a.Z)(function*(r,t,e){const n=I(r),i={requestType:"EMAIL_SIGNIN",email:t,clientType:"CLIENT_TYPE_WEB"};(function s(o,u){l(u.handleCodeInApp,n,"argument-error"),u&&Ie(n,o,u)})(i,e),yield J(n,i,"getOobCode",Xi)})).apply(this,arguments)}function Ss(r,t){const e=ee.parseLink(t);return"EMAIL_SIGNIN"===e?.operation}function $t(){return($t=(0,a.Z)(function*(r,t,e){const n=(0,d.m9)(r),i=de.credentialWithLink(t,e||z());return l(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),Nt(n,i)})).apply(this,arguments)}function jt(){return jt=(0,a.Z)(function*(r,t){const e=(0,d.m9)(r),i={requestType:"VERIFY_EMAIL",idToken:yield r.getIdToken()};t&&Ie(e.auth,i,t);const{email:s}=yield function Yi(r,t){return ut.apply(this,arguments)}(e.auth,i);s!==r.email&&(yield r.reload())}),jt.apply(this,arguments)}function Jt(){return(Jt=(0,a.Z)(function*(r,t){return g(r,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Xt(){return Xt=(0,a.Z)(function*(r,{displayName:t,photoURL:e}){if(void 0===t&&void 0===e)return;const n=(0,d.m9)(r),s={idToken:yield n.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},o=yield b(n,function Ns(r,t){return Jt.apply(this,arguments)}(n.auth,s));n.displayName=o.displayName||null,n.photoURL=o.photoUrl||null;const u=n.providerData.find(({providerId:c})=>"password"===c);u&&(u.displayName=n.displayName,u.photoURL=n.photoURL),yield n._updateTokensIfNecessary(o)}),Xt.apply(this,arguments)}function Or(r,t,e){return Qt.apply(this,arguments)}function Qt(){return Qt=(0,a.Z)(function*(r,t,e){const{auth:n}=r,s={idToken:yield r.getIdToken(),returnSecureToken:!0};t&&(s.email=t),e&&(s.password=e);const o=yield b(r,function $i(r,t){return rt.apply(this,arguments)}(n,s));yield r._updateTokensIfNecessary(o,!0)}),Qt.apply(this,arguments)}class q{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class Cr extends q{constructor(t,e,n,i){super(t,e,n),this.username=i}}class Ls extends q{constructor(t,e){super(t,"facebook.com",e)}}class Ds extends Cr{constructor(t,e){super(t,"github.com",e,"string"==typeof e?.login?e?.login:null)}}class Us extends q{constructor(t,e){super(t,"google.com",e)}}class Ms extends Cr{constructor(t,e,n){super(t,"twitter.com",e,n)}}function ve(r,t){return(0,d.m9)(r).setPersistence(t)}function tn(){return(tn=(0,a.Z)(function*(r){return(0,d.m9)(r).delete()})).apply(this,arguments)}const ye="__sak";class br{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(ye,"1"),this.storage.removeItem(ye),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const Lr=(()=>{class r extends br{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function zs(){const r=(0,d.z$)();return je(r)||ue(r)}()&&function Ci(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),s=this.localCache[n];i!==s&&e(n,s,i)}}onStorageEvent(e,n=!1){if(!e.key)return void this.forAllChangedKeys((u,c,h)=>{this.notifyListeners(u,h)});const i=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const u=this.storage.getItem(i);if(e.newValue!==u)null!==e.newValue?this.storage.setItem(i,e.newValue):this.storage.removeItem(i);else if(this.localCache[i]===e.newValue&&!n)return}const s=()=>{const u=this.storage.getItem(i);!n&&this.localCache[i]===u||this.notifyListeners(i,u)},o=this.storage.getItem(i);!function Oi(){return(0,d.w1)()&&10===document.documentMode}()||o===e.newValue||e.newValue===e.oldValue?s():setTimeout(s,10)}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,n){var i=()=>super._set,s=this;return(0,a.Z)(function*(){yield i().call(s,e,n),s.localCache[e]=JSON.stringify(n)})()}_get(e){var n=()=>super._get,i=this;return(0,a.Z)(function*(){const s=yield n().call(i,e);return i.localCache[e]=JSON.stringify(s),s})()}_remove(e){var n=()=>super._remove,i=this;return(0,a.Z)(function*(){yield n().call(i,e),delete i.localCache[e]})()}}return r.type="LOCAL",r})(),on=(()=>{class r extends br{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}return r.type="SESSION",r})();let js=(()=>{class r{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const i=new r(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}handleEvent(e){var n=this;return(0,a.Z)(function*(){const i=e,{eventId:s,eventType:o,data:u}=i.data,c=n.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const h=Array.from(c).map(function(){var p=(0,a.Z)(function*(T){return T(i.origin,u)});return function(T){return p.apply(this,arguments)}}()),f=yield function Ks(r){return Promise.all(r.map(function(){var t=(0,a.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}});return function(e){return t.apply(this,arguments)}}()))}(h);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:f})})()}_subscribe(e,n){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||0===this.handlersMap[e].size)&&delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return r.receivers=[],r})();function Ee(r="",t=10){let e="";for(let n=0;n<t;n++)e+=Math.floor(10*Math.random());return r+e}class Ys{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var i=this;return(0,a.Z)(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,u;return new Promise((c,h)=>{const f=Ee("",20);s.port1.start();const p=setTimeout(()=>{h(new Error("unsupported_event"))},n);u={messageChannel:s,onMessage(T){const x=T;if(x.data.eventId===f)switch(x.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(x.data.response);break;default:clearTimeout(p),clearTimeout(o),h(new Error("invalid_response"))}}},i.handlers.add(u),s.port1.addEventListener("message",u.onMessage),i.target.postMessage({eventType:t,eventId:f,data:e},[s.port2])}).finally(()=>{u&&i.removeMessageHandler(u)})})()}}function v(){return window}function an(){return typeof v().WorkerGlobalScope<"u"&&"function"==typeof v().importScripts}function un(){return(un=(0,a.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Dr="firebaseLocalStorageDb",Te="firebaseLocalStorage",Ur="fbase_key";class ne{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Re(r,t){return r.transaction([Te],t?"readwrite":"readonly").objectStore(Te)}function cn(){const r=indexedDB.open(Dr,1);return new Promise((t,e)=>{r.addEventListener("error",()=>{e(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(Te,{keyPath:Ur})}catch(i){e(i)}}),r.addEventListener("success",(0,a.Z)(function*(){const n=r.result;n.objectStoreNames.contains(Te)?t(n):(n.close(),yield function no(){const r=indexedDB.deleteDatabase(Dr);return new ne(r).toPromise()}(),t(yield cn()))}))})}function Mr(r,t,e){return ln.apply(this,arguments)}function ln(){return(ln=(0,a.Z)(function*(r,t,e){const n=Re(r,!0).put({[Ur]:t,value:e});return new ne(n).toPromise()})).apply(this,arguments)}function dn(){return(dn=(0,a.Z)(function*(r,t){const e=Re(r,!1).get(t),n=yield new ne(e).toPromise();return void 0===n?null:n.value})).apply(this,arguments)}function xr(r,t){const e=Re(r,!0).delete(t);return new ne(e).toPromise()}const Fr=(()=>{class r{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,a.Z)(function*(){return e.db||(e.db=yield cn()),e.db})()}_withRetries(e){var n=this;return(0,a.Z)(function*(){let i=0;for(;;)try{const s=yield n._openDb();return yield e(s)}catch(s){if(i++>3)throw s;n.db&&(n.db.close(),n.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,a.Z)(function*(){return an()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,a.Z)(function*(){e.receiver=js._getInstance(function eo(){return an()?self:null}()),e.receiver._subscribe("keyChanged",function(){var n=(0,a.Z)(function*(i,s){return{keyProcessed:(yield e._poll()).includes(s.key)}});return function(i,s){return n.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var n=(0,a.Z)(function*(i,s){return["keyChanged"]});return function(i,s){return n.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,a.Z)(function*(){var n,i;if(e.activeServiceWorker=yield function Xs(){return un.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new Ys(e.activeServiceWorker);const s=yield e.sender._send("ping",{},800);s&&null!==(n=s[0])&&void 0!==n&&n.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var n=this;return(0,a.Z)(function*(){if(n.sender&&n.activeServiceWorker&&function Qs(){var r;return(null===(r=navigator?.serviceWorker)||void 0===r?void 0:r.controller)||null}()===n.activeServiceWorker)try{yield n.sender._send("keyChanged",{key:e},n.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,a.Z)(function*(){try{if(!indexedDB)return!1;const e=yield cn();return yield Mr(e,ye,"1"),yield xr(e,ye),!0}catch{}return!1})()}_withPendingWrite(e){var n=this;return(0,a.Z)(function*(){n.pendingWrites++;try{yield e()}finally{n.pendingWrites--}})()}_set(e,n){var i=this;return(0,a.Z)(function*(){return i._withPendingWrite((0,a.Z)(function*(){return yield i._withRetries(s=>Mr(s,e,n)),i.localCache[e]=n,i.notifyServiceWorker(e)}))})()}_get(e){var n=this;return(0,a.Z)(function*(){const i=yield n._withRetries(s=>function ro(r,t){return dn.apply(this,arguments)}(s,e));return n.localCache[e]=i,i})()}_remove(e){var n=this;return(0,a.Z)(function*(){return n._withPendingWrite((0,a.Z)(function*(){return yield n._withRetries(i=>xr(i,e)),delete n.localCache[e],n.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,a.Z)(function*(){const n=yield e._withRetries(o=>{const u=Re(o,!1).getAll();return new ne(u).toPromise()});if(!n)return[];if(0!==e.pendingWrites)return[];const i=[],s=new Set;if(0!==n.length)for(const{fbase_key:o,value:u}of n)s.add(o),JSON.stringify(e.localCache[o])!==JSON.stringify(u)&&(e.notifyListeners(o,u),i.push(o));for(const o of Object.keys(e.localCache))e.localCache[o]&&!s.has(o)&&(e.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const s of Array.from(i))s(n)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,a.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return r.type="LOCAL",r})(),Se=1e12;class ho{constructor(t){this.auth=t,this.counter=Se,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new fo(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||Se;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||Se))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,a.Z)(function*(){var n;return null===(n=e._widgets.get(t||Se))||void 0===n||n.execute(),""})()}}class fo{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i="string"==typeof t?document.getElementById(t):t;l(i,"argument-error",{appName:e}),this.container=i,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function po(r){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<r;n++)t.push(e.charAt(Math.floor(62*Math.random())));return t.join("")}(50);const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const hn=gr("rcb"),mo=new $(3e4,6e4);class go{constructor(){var t;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(t=v().grecaptcha)||void 0===t||!t.render)}load(t,e=""){return l(function Io(r){return r.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(r)}(e),t,"argument-error"),this.shouldResolveImmediately(e)&&er(v().grecaptcha)?Promise.resolve(v().grecaptcha):new Promise((n,i)=>{const s=v().setTimeout(()=>{i(R(t,"network-request-failed"))},mo.get());v()[hn]=()=>{v().clearTimeout(s),delete v()[hn];const u=v().grecaptcha;if(!u||!er(u))return void i(R(t,"internal-error"));const c=u.render;u.render=(h,f)=>{const p=c(h,f);return this.counter++,p},this.hostLanguage=e,n(u)},Je(`https://www.google.com/recaptcha/api.js??${(0,d.xO)({onload:hn,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(s),i(R(t,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){var e;return!(null===(e=v().grecaptcha)||void 0===e||!e.render)&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class vo{load(t){return(0,a.Z)(function*(){return new ho(t)})()}clearedOneInstance(){}}const Vr="recaptcha",yo={theme:"light",type:"image"};class Zr{constructor(t,e,n=Object.assign({},yo)){this.parameters=n,this.type=Vr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=I(t),this.isInvisible="invisible"===this.parameters.size,l(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i="string"==typeof e?document.getElementById(e):e;l(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new vo:new go,this.validateStartingState()}verify(){var t=this;return(0,a.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(s=>{const o=u=>{u&&(t.tokenChangeListeners.delete(o),s(u))};t.tokenChangeListeners.add(o),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){l(!this.parameters.sitekey,this.auth,"argument-error"),l(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),l(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(n=>n(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=v()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){l(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,a.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const n=document.createElement("div");e.appendChild(n),e=n}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,a.Z)(function*(){l(Ce()&&!an(),t.auth,"internal-error"),yield function Eo(){let r=null;return new Promise(t=>{"complete"!==document.readyState?(r=()=>t(),window.addEventListener("load",r)):t()}).catch(t=>{throw r&&window.removeEventListener("load",r),t})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function gi(r){return Me.apply(this,arguments)}(t.auth);l(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return l(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class fn{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=Q._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function pn(){return(pn=(0,a.Z)(function*(r,t,e){const n=I(r),i=yield gn(n,t,(0,d.m9)(e));return new fn(i,s=>Nt(n,s))})).apply(this,arguments)}function mn(){return(mn=(0,a.Z)(function*(r,t,e){const n=(0,d.m9)(r);yield ge(!1,n,"phone");const i=yield gn(n.auth,t,(0,d.m9)(e));return new fn(i,s=>wr(n,s))})).apply(this,arguments)}function gn(r,t,e){return In.apply(this,arguments)}function In(){return In=(0,a.Z)(function*(r,t,e){var n;const i=yield e.verify();try{let s;if(l("string"==typeof i,r,"argument-error"),l(e.type===Vr,r,"argument-error"),s="string"==typeof t?{phoneNumber:t}:t,"session"in s){const o=s.session;if("phoneNumber"in s)return l("enroll"===o.type,r,"internal-error"),(yield function Ws(r,t){return g(r,"POST","/v2/accounts/mfaEnrollment:start",_(r,t))}(r,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{l("signin"===o.type,r,"internal-error");const u=(null===(n=s.multiFactorHint)||void 0===n?void 0:n.uid)||s.multiFactorUid;return l(u,r,"missing-multi-factor-info"),(yield function oo(r,t){return g(r,"POST","/v2/accounts/mfaSignIn:start",_(r,t))}(r,{mfaPendingCredential:o.credential,mfaEnrollmentId:u,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:o}=yield function rs(r,t){return mt.apply(this,arguments)}(r,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{e._reset()}}),In.apply(this,arguments)}function Z(r,t){return t?L(t):(l(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class yn extends ce{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return D(t,this._buildIdpRequest())}_linkToIdToken(t,e){return D(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return D(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function So(r){return Nr(r.auth,new yn(r),r.bypassAuthState)}function Ao(r){const{auth:t,user:e}=r;return l(e,t,"internal-error"),function kr(r,t){return Pt.apply(this,arguments)}(e,new yn(r),r.bypassAuthState)}function Po(r){return En.apply(this,arguments)}function En(){return(En=(0,a.Z)(function*(r){const{auth:t,user:e}=r;return l(e,t,"internal-error"),Rt(e,new yn(r),r.bypassAuthState)})).apply(this,arguments)}class Wr{constructor(t,e,n,i,s=!1){this.auth=t,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,a.Z)(function*(n,i){t.pendingPromise={resolve:n,reject:i};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(s){t.reject(s)}});return function(n,i){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,a.Z)(function*(){const{urlResponse:n,sessionId:i,postBody:s,tenantId:o,error:u,type:c}=t;if(u)return void e.reject(u);const h={auth:e.auth,requestUri:n,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(c)(h))}catch(f){e.reject(f)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return So;case"linkViaPopup":case"linkViaRedirect":return Po;case"reauthViaPopup":case"reauthViaRedirect":return Ao;default:E(this.auth,"internal-error")}}resolve(t){O(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){O(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ko=new $(2e3,1e4);function Tn(){return(Tn=(0,a.Z)(function*(r,t,e){const n=I(r);W(r,t,M);const i=Z(n,e);return new An(n,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Sn(){return(Sn=(0,a.Z)(function*(r,t,e){const n=(0,d.m9)(r);W(n.auth,t,M);const i=Z(n.auth,e);return new An(n.auth,"linkViaPopup",t,i,n).executeNotNull()})).apply(this,arguments)}let An=(()=>{class r extends Wr{constructor(e,n,i,s,o){super(e,n,s,o),this.provider=i,this.authWindow=null,this.pollId=null,r.currentPopupAction&&r.currentPopupAction.cancel(),r.currentPopupAction=this}executeNotNull(){var e=this;return(0,a.Z)(function*(){const n=yield e.execute();return l(n,e.auth,"internal-error"),n})()}onExecution(){var e=this;return(0,a.Z)(function*(){O(1===e.filter.length,"Popup operations only handle one event");const n=Ee();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],n),e.authWindow.associatedEvent=n,e.resolver._originValidation(e.auth).catch(i=>{e.reject(i)}),e.resolver._isIframeWebStorageSupported(e.auth,i=>{i||e.reject(R(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(R(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,r.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;this.pollId=null!==(i=null===(n=this.authWindow)||void 0===n?void 0:n.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(R(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(e,ko.get())};e()}}return r.currentPopupAction=null,r})();const Oo="pendingRedirect",re=new Map;class Co extends Wr{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,a.Z)(function*(){let n=re.get(e.auth._key());if(!n){try{const s=(yield function bo(r,t){return Pn.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(s)}catch(i){n=()=>Promise.reject(i)}re.set(e.auth._key(),n)}return e.bypassAuthState||re.set(e.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,a.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const i=yield n.auth._redirectUserForId(t.eventId);if(i)return n.user=i,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,a.Z)(function*(){})()}cleanUp(){}}function Pn(){return(Pn=(0,a.Z)(function*(r,t){const e=Hr(t),n=Gr(r);if(!(yield n._isAvailable()))return!1;const i="true"===(yield n._get(e));return yield n._remove(e),i})).apply(this,arguments)}function kn(r,t){return Nn.apply(this,arguments)}function Nn(){return(Nn=(0,a.Z)(function*(r,t){return Gr(r)._set(Hr(t),"true")})).apply(this,arguments)}function Lo(r,t){re.set(r._key(),t)}function Gr(r){return L(r._redirectPersistence)}function Hr(r){return ae(Oo,r.config.apiKey,r.name)}function Do(r,t,e){return function Uo(r,t,e){return wn.apply(this,arguments)}(r,t,e)}function wn(){return(wn=(0,a.Z)(function*(r,t,e){const n=I(r);W(r,t,M),yield n._initializationPromise;const i=Z(n,e);return yield kn(i,n),i._openRedirect(n,t,"signInViaRedirect")})).apply(this,arguments)}function xo(r,t,e){return function Fo(r,t,e){return Cn.apply(this,arguments)}(r,t,e)}function Cn(){return(Cn=(0,a.Z)(function*(r,t,e){const n=(0,d.m9)(r);W(n.auth,t,M),yield n.auth._initializationPromise;const i=Z(n.auth,e);yield ge(!1,n,t.providerId),yield kn(i,n.auth);const s=yield function zr(r){return Dn.apply(this,arguments)}(n);return i._openRedirect(n.auth,t,"linkViaRedirect",s)})).apply(this,arguments)}function bn(){return(bn=(0,a.Z)(function*(r,t){return yield I(r)._initializationPromise,qr(r,t,!1)})).apply(this,arguments)}function qr(r,t){return Ln.apply(this,arguments)}function Ln(){return(Ln=(0,a.Z)(function*(r,t,e=!1){const n=I(r),i=Z(n,t),o=yield new Co(n,i,e).execute();return o&&!e&&(delete o.user._redirectEventId,yield n._persistUserIfCurrent(o.user),yield n._setRedirectUser(null,t)),o})).apply(this,arguments)}function Dn(){return(Dn=(0,a.Z)(function*(r){const t=Ee(`${r.uid}:::`);return r._redirectEventId=t,yield r.auth._setRedirectUser(r),yield r.auth._persistUserIfCurrent(r),t})).apply(this,arguments)}class Wo{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function Go(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(r);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Br(t)){const i=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(R(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has($r(t))}saveEventToCache(t){this.cachedEventUids.add($r(t)),this.lastProcessedEventTime=Date.now()}}function $r(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Br({type:r,error:t}){return"unknown"===r&&"auth/no-auth-event"===t?.code}function Un(){return(Un=(0,a.Z)(function*(r,t={}){return g(r,"GET","/v1/projects",t)})).apply(this,arguments)}const qo=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zo=/^https?/;function Mn(){return Mn=(0,a.Z)(function*(r){if(r.config.emulator)return;const{authorizedDomains:t}=yield function Ho(r){return Un.apply(this,arguments)}(r);for(const e of t)try{if(Bo(e))return}catch{}E(r,"unauthorized-domain")}),Mn.apply(this,arguments)}function Bo(r){const t=z(),{protocol:e,hostname:n}=new URL(t);if(r.startsWith("chrome-extension://")){const o=new URL(r);return""===o.hostname&&""===n?"chrome-extension:"===e&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===e&&o.hostname===n}if(!zo.test(e))return!1;if(qo.test(r))return n===r;const i=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const Ko=new $(3e4,6e4);function Kr(){const r=v().___jsl;if(r?.H)for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let e=0;e<r.CP.length;e++)r.CP[e]=null}let Ae=null;const Jo=new $(5e3,15e3),Xo="__/auth/iframe",Qo="emulator/auth/iframe",ea={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ta=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function na(r){const t=r.config;l(t.authDomain,r,"auth-domain-config-required");const e=t.emulator?be(t,Qo):`https://${r.config.authDomain}/${Xo}`,n={apiKey:t.apiKey,appName:r.name,v:S.Jn},i=ta.get(r.config.apiHost);i&&(n.eid=i);const s=r._getFrameworks();return s.length&&(n.fw=s.join(",")),`${e}?${(0,d.xO)(n).slice(1)}`}function xn(){return xn=(0,a.Z)(function*(r){const t=yield function Yo(r){return Ae=Ae||function jo(r){return new Promise((t,e)=>{var n,i,s;function o(){Kr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Kr(),e(R(r,"network-request-failed"))},timeout:Ko.get()})}if(null!==(i=null===(n=v().gapi)||void 0===n?void 0:n.iframes)&&void 0!==i&&i.Iframe)t(gapi.iframes.getContext());else{if(null===(s=v().gapi)||void 0===s||!s.load){const u=gr("iframefcb");return v()[u]=()=>{gapi.load?o():e(R(r,"network-request-failed"))},Je(`https://apis.google.com/js/api.js?onload=${u}`).catch(c=>e(c))}o()}}).catch(t=>{throw Ae=null,t})}(r),Ae}(r),e=v().gapi;return l(e,r,"internal-error"),t.open({where:document.body,url:na(r),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ea,dontclear:!0},n=>new Promise(function(){var i=(0,a.Z)(function*(s,o){yield n.restyle({setHideOnLeave:!1});const u=R(r,"network-request-failed"),c=v().setTimeout(()=>{o(u)},Jo.get());function h(){v().clearTimeout(c),s(n)}n.ping(h).then(h,()=>{o(u)})});return function(s,o){return i.apply(this,arguments)}}()))}),xn.apply(this,arguments)}const ia={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class jr{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const da="__/auth/handler",ha="emulator/auth/handler",fa=encodeURIComponent("fac");function Yr(r,t,e,n,i,s){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,a.Z)(function*(r,t,e,n,i,s){l(r.config.authDomain,r,"auth-domain-config-required"),l(r.config.apiKey,r,"invalid-api-key");const o={apiKey:r.config.apiKey,appName:r.name,authType:e,redirectUrl:n,v:S.Jn,eventId:i};if(t instanceof M){t.setDefaultLanguage(r.languageCode),o.providerId=t.providerId||"",(0,d.xb)(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[f,p]of Object.entries(s||{}))o[f]=p}if(t instanceof H){const f=t.getScopes().filter(p=>""!==p);f.length>0&&(o.scopes=f.join(","))}r.tenantId&&(o.tid=r.tenantId);const u=o;for(const f of Object.keys(u))void 0===u[f]&&delete u[f];const c=yield r._getAppCheckToken(),h=c?`#${fa}=${encodeURIComponent(c)}`:"";return`${function pa({config:r}){return r.emulator?be(r,ha):`https://${r.authDomain}/${da}`}(r)}?${(0,d.xO)(u).slice(1)}${h}`})).apply(this,arguments)}const Vn="webStorageSupport",_a=class ma{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=on,this._completeRedirectFn=qr,this._overrideRedirectResult=Lo}_openPopup(t,e,n,i){var s=this;return(0,a.Z)(function*(){var o;O(null===(o=s.eventManagers[t._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const u=yield Yr(t,e,n,z(),i);return function ca(r,t,e,n=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-n)/2,0).toString();let u="";const c=Object.assign(Object.assign({},ia),{width:n.toString(),height:i.toString(),top:s,left:o}),h=(0,d.z$)().toLowerCase();e&&(u=cr(h)?"_blank":e),ur(h)&&(t=t||"http://localhost",c.scrollbars="yes");const f=Object.entries(c).reduce((T,[x,ke])=>`${T}${x}=${ke},`,"");if(function wi(r=(0,d.z$)()){var t;return ue(r)&&!(null===(t=window.navigator)||void 0===t||!t.standalone)}(h)&&"_self"!==u)return function la(r,t){const e=document.createElement("a");e.href=r,e.target=t;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(n)}(t||"",u),new jr(null);const p=window.open(t||"",u,f);l(p,r,"popup-blocked");try{p.focus()}catch{}return new jr(p)}(t,u,Ee())})()}_openRedirect(t,e,n,i){var s=this;return(0,a.Z)(function*(){return yield s._originValidation(t),function Js(r){v().location.href=r}(yield Yr(t,e,n,z(),i)),new Promise(()=>{})})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:i,promise:s}=this.eventManagers[e];return i?Promise.resolve(i):(O(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n.catch(()=>{delete this.eventManagers[e]}),n}initAndGetManager(t){var e=this;return(0,a.Z)(function*(){const n=yield function ra(r){return xn.apply(this,arguments)}(t),i=new Wo(t);return n.register("authEvent",s=>(l(s?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:i},e.iframes[t._key()]=n,i})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Vn,{type:Vn},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[Vn];void 0!==o&&e(!!o),E(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function $o(r){return Mn.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return pr()||je()||ue()}};var Qr="@firebase/auth";class ga{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,a.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(n=>{t(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){l(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ea=(0,d.Pz)("authIdTokenMaxAge")||300;let ti=null;const Ta=r=>function(){var t=(0,a.Z)(function*(e){const n=e&&(yield e.getIdTokenResult()),i=n&&((new Date).getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>Ea)return;const s=n?.token;ti!==s&&(ti=s,yield fetch(r,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(e){return t.apply(this,arguments)}}();function m(r=(0,S.Mq)()){const t=(0,S.qX)(r,"auth");if(t.isInitialized())return t.getImmediate();const e=function Gi(r,t){const e=(0,S.qX)(r,"auth");if(e.isInitialized()){const i=e.getImmediate(),s=e.getOptions();if((0,d.vZ)(s,t??{}))return i;E(i,"already-initialized")}return e.initialize({options:t})}(r,{popupRedirectResolver:_a,persistence:[Fr,Lr,on]}),n=(0,d.Pz)("authTokenSyncURL");if(n){const s=Ta(n);(function Vs(r,t,e){(0,d.m9)(r).beforeAuthStateChanged(t,e)})(e,s,()=>s(e.currentUser)),function Fs(r,t,e,n){(0,d.m9)(r).onIdTokenChanged(t,e,n)}(e,o=>s(o))}const i=(0,d.q4)("auth");return i&&tt(e,`http://${i}`),e}!function va(r){(0,S.Xd)(new $n.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:u}=n.options;l(o&&!o.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:o,authDomain:u,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mr(r)},h=new Mi(n,i,s,c);return function Hi(r,t){const e=t?.persistence||[],n=(Array.isArray(e)?e:[e]).map(L);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(n,t?.popupRedirectResolver)}(h,e),h},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,S.Xd)(new $n.wA("auth-internal",t=>{const e=I(t.getProvider("auth").getImmediate());return new ga(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,S.KN)(Qr,"1.5.1",function Ia(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(r)),(0,S.KN)(Qr,"1.5.1","esm2017")}("Browser");var w=P(1718);let Ra=(()=>{class r extends ui.Uw{constructor(){super(),this.lastConfirmationResult=new Map,m().onAuthStateChanged(n=>this.handleAuthStateChange(n))}applyActionCode(e){return(0,a.Z)(function*(){return function vs(r,t){return Wt.apply(this,arguments)}(m(),e.oobCode)})()}createUserWithEmailAndPassword(e){var n=this;return(0,a.Z)(function*(){const i=m(),s=yield function Es(r,t,e){return qt.apply(this,arguments)}(i,e.email,e.password);return n.createSignInResult(s,null)})()}confirmPasswordReset(e){return(0,a.Z)(function*(){return function Is(r,t,e){return Zt.apply(this,arguments)}(m(),e.oobCode,e.newPassword)})()}confirmVerificationCode(e){var n=this;return(0,a.Z)(function*(){const{verificationCode:i,verificationId:s}=e,o=n.lastConfirmationResult.get(s);if(!o)throw new Error(r.ERROR_CONFIRMATION_RESULT_MISSING);const u=yield o.confirm(i);return n.createSignInResult(u,null)})()}deleteUser(){return(0,a.Z)(function*(){const n=m().currentUser;if(!n)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function Zs(r){return tn.apply(this,arguments)}(n)})()}getCurrentUser(){var e=this;return(0,a.Z)(function*(){const n=m();return{user:e.createUserResult(n.currentUser)}})()}getIdToken(e){return(0,a.Z)(function*(){const n=m();if(!n.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return{token:(yield n.currentUser.getIdToken(e?.forceRefresh))||""}})()}getRedirectResult(){var e=this;return(0,a.Z)(function*(){const n=m(),i=yield function Vo(r,t){return bn.apply(this,arguments)}(n),s=i?y.credentialFromResult(i):null;return e.createSignInResult(i,s)})()}getTenantId(){return(0,a.Z)(function*(){return{tenantId:m().tenantId}})()}isSignInWithEmailLink(e){return(0,a.Z)(function*(){return m(),{isSignInWithEmailLink:Ss(0,e.emailLink)}})()}linkWithApple(e){var n=this;return(0,a.Z)(function*(){const i=new y(w.F.APPLE);n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=y.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithEmailAndPassword(e){var n=this;return(0,a.Z)(function*(){const i=de.credential(e.email,e.password),s=yield n.linkCurrentUserWithCredential(i);return n.createSignInResult(s,i)})()}linkWithEmailLink(e){var n=this;return(0,a.Z)(function*(){const i=de.credentialWithLink(e.email,e.emailLink),s=yield n.linkCurrentUserWithCredential(i);return n.createSignInResult(s,i)})()}linkWithFacebook(e){var n=this;return(0,a.Z)(function*(){const i=new he;n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=he.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithGameCenter(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}linkWithGithub(e){var n=this;return(0,a.Z)(function*(){const i=new pe;n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=pe.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithGoogle(e){var n=this;return(0,a.Z)(function*(){const i=new fe;n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=fe.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithMicrosoft(e){var n=this;return(0,a.Z)(function*(){const i=new y(w.F.MICROSOFT);n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=y.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithPhoneNumber(e){var n=this;return(0,a.Z)(function*(){const s=m().currentUser;if(!s)throw new Error(r.ERROR_NO_USER_SIGNED_IN);if(!e.phoneNumber)throw new Error(r.ERROR_PHONE_NUMBER_MISSING);if(!(e.recaptchaVerifier&&e.recaptchaVerifier instanceof Zr))throw new Error(r.ERROR_RECAPTCHA_VERIFIER_MISSING);try{const o=yield function Ro(r,t,e){return mn.apply(this,arguments)}(s,e.phoneNumber,e.recaptchaVerifier),{verificationId:u}=o;n.lastConfirmationResult.set(u,o),n.notifyListeners(r.PHONE_CODE_SENT_EVENT,{verificationId:u})}catch(o){const u={message:n.getErrorMessage(o)};n.notifyListeners(r.PHONE_VERIFICATION_FAILED_EVENT,u)}})()}linkWithPlayGames(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}linkWithTwitter(e){var n=this;return(0,a.Z)(function*(){const i=new me;n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=me.credentialFromResult(s);return n.createSignInResult(s,o)})()}linkWithYahoo(e){var n=this;return(0,a.Z)(function*(){const i=new y(w.F.YAHOO);n.applySignInOptions(e||{},i);const s=yield n.linkCurrentUserWithPopupOrRedirect(i,e?.mode),o=y.credentialFromResult(s);return n.createSignInResult(s,o)})()}reload(){return(0,a.Z)(function*(){const n=m().currentUser;if(!n)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return sr(n)})()}sendEmailVerification(){return(0,a.Z)(function*(){const n=m().currentUser;if(!n)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function ks(r,t){return jt.apply(this,arguments)}(n)})()}sendPasswordResetEmail(e){return(0,a.Z)(function*(){return function gs(r,t,e){return Vt.apply(this,arguments)}(m(),e.email)})()}sendSignInLinkToEmail(e){return(0,a.Z)(function*(){return function Rs(r,t,e){return zt.apply(this,arguments)}(m(),e.email,e.actionCodeSettings)})()}setLanguageCode(e){return(0,a.Z)(function*(){m().languageCode=e.languageCode})()}setPersistence(e){return(0,a.Z)(function*(){const n=m();switch(e.persistence){case w.n.BrowserLocal:yield ve(n,Lr);break;case w.n.BrowserSession:yield ve(n,on);break;case w.n.IndexedDbLocal:yield ve(n,Fr);break;case w.n.InMemory:yield ve(n,Ke)}})()}setTenantId(e){return(0,a.Z)(function*(){m().tenantId=e.tenantId})()}signInAnonymously(){var e=this;return(0,a.Z)(function*(){const n=m(),i=yield function hs(r){return Et.apply(this,arguments)}(n);return e.createSignInResult(i,null)})()}signInWithApple(e){var n=this;return(0,a.Z)(function*(){const i=new y(w.F.APPLE);n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=y.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithCustomToken(e){var n=this;return(0,a.Z)(function*(){const i=m(),s=yield function _s(r,t){return Lt.apply(this,arguments)}(i,e.token);return n.createSignInResult(s,null)})()}signInWithEmailAndPassword(e){var n=this;return(0,a.Z)(function*(){const i=m(),s=yield function Ts(r,t,e){return Nt((0,d.m9)(r),de.credential(t,e)).catch(function(){var n=(0,a.Z)(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&xt(r),i});return function(i){return n.apply(this,arguments)}}())}(i,e.email,e.password);return n.createSignInResult(s,null)})()}signInWithEmailLink(e){var n=this;return(0,a.Z)(function*(){const i=m(),s=yield function As(r,t,e){return $t.apply(this,arguments)}(i,e.email,e.emailLink);return n.createSignInResult(s,null)})()}signInWithFacebook(e){var n=this;return(0,a.Z)(function*(){const i=new he;n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=he.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithGithub(e){var n=this;return(0,a.Z)(function*(){const i=new pe;n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=pe.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithGoogle(e){var n=this;return(0,a.Z)(function*(){const i=new fe;n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=fe.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithMicrosoft(e){var n=this;return(0,a.Z)(function*(){const i=new y(w.F.MICROSOFT);n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=y.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithPhoneNumber(e){var n=this;return(0,a.Z)(function*(){if(!e.phoneNumber)throw new Error(r.ERROR_PHONE_NUMBER_MISSING);if(!(e.recaptchaVerifier&&e.recaptchaVerifier instanceof Zr))throw new Error(r.ERROR_RECAPTCHA_VERIFIER_MISSING);const i=m();try{const s=yield function To(r,t,e){return pn.apply(this,arguments)}(i,e.phoneNumber,e.recaptchaVerifier),{verificationId:o}=s;n.lastConfirmationResult.set(o,s),n.notifyListeners(r.PHONE_CODE_SENT_EVENT,{verificationId:o})}catch(s){const o={message:n.getErrorMessage(s)};n.notifyListeners(r.PHONE_VERIFICATION_FAILED_EVENT,o)}})()}signInWithPlayGames(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}signInWithGameCenter(){return(0,a.Z)(function*(){throw new Error("Not available on web.")})()}signInWithTwitter(e){var n=this;return(0,a.Z)(function*(){const i=new me;n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=me.credentialFromResult(s);return n.createSignInResult(s,o)})()}signInWithYahoo(e){var n=this;return(0,a.Z)(function*(){const i=new y(w.F.YAHOO);n.applySignInOptions(e||{},i);const s=yield n.signInWithPopupOrRedirect(i,e?.mode),o=y.credentialFromResult(s);return n.createSignInResult(s,o)})()}signOut(){return(0,a.Z)(function*(){yield m().signOut()})()}unlink(e){var n=this;return(0,a.Z)(function*(){const i=m();if(!i.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);const s=yield function fs(r,t){return Tt.apply(this,arguments)}(i.currentUser,e.providerId);return{user:n.createUserResult(s)}})()}updateEmail(e){return(0,a.Z)(function*(){const i=m().currentUser;if(!i)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function Os(r,t){return Or((0,d.m9)(r),t,null)}(i,e.newEmail)})()}updatePassword(e){return(0,a.Z)(function*(){const i=m().currentUser;if(!i)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function Cs(r,t){return Or((0,d.m9)(r),null,t)}(i,e.newPassword)})()}updateProfile(e){return(0,a.Z)(function*(){const i=m().currentUser;if(!i)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return function ws(r,t){return Xt.apply(this,arguments)}(i,e)})()}useAppLanguage(){return(0,a.Z)(function*(){m().useDeviceLanguage()})()}useEmulator(e){return(0,a.Z)(function*(){const n=m(),i=e.port||9099,s=e.scheme||"http";e.host.includes("://")?tt(n,`${e.host}:${i}`):tt(n,`${s}://${e.host}:${i}`)})()}handleAuthStateChange(e){const i={user:this.createUserResult(e)};this.notifyListeners(r.AUTH_STATE_CHANGE_EVENT,i)}applySignInOptions(e,n){if(e.customParameters){const i={};e.customParameters.map(s=>{i[s.key]=s.value}),n.setCustomParameters(i)}if(e.scopes)for(const i of e.scopes)n.addScope(i)}signInWithPopupOrRedirect(e,n){const i=m();return"redirect"===n?Do(i,e):function No(r,t,e){return Tn.apply(this,arguments)}(i,e)}linkCurrentUserWithPopupOrRedirect(e,n){const i=m();if(!i.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return"redirect"===n?xo(i.currentUser,e):function wo(r,t,e){return Sn.apply(this,arguments)}(i.currentUser,e)}linkCurrentUserWithCredential(e){const n=m();if(!n.currentUser)throw new Error(r.ERROR_NO_USER_SIGNED_IN);return wr(n.currentUser,e)}createSignInResult(e,n){return{user:this.createUserResult(e?.user||null),credential:this.createCredentialResult(n),additionalUserInfo:this.createAdditionalUserInfoResult(e)}}createCredentialResult(e){if(!e)return null;const n={providerId:e.providerId};return e instanceof N&&(n.accessToken=e.accessToken,n.idToken=e.idToken,n.secret=e.secret),n}createUserResult(e){return e?{displayName:e.displayName,email:e.email,emailVerified:e.emailVerified,isAnonymous:e.isAnonymous,metadata:this.createUserMetadataResult(e.metadata),phoneNumber:e.phoneNumber,photoUrl:e.photoURL,providerData:this.createUserProviderDataResult(e.providerData),providerId:e.providerId,tenantId:e.tenantId,uid:e.uid}:null}createUserMetadataResult(e){const n={};return e.creationTime&&(n.creationTime=Date.parse(e.creationTime)),e.lastSignInTime&&(n.lastSignInTime=Date.parse(e.lastSignInTime)),n}createUserProviderDataResult(e){return e.map(n=>({displayName:n.displayName,email:n.email,phoneNumber:n.phoneNumber,photoUrl:n.photoURL,providerId:n.providerId,uid:n.uid}))}createAdditionalUserInfoResult(e){if(!e)return null;const n=function xs(r){const{user:t,_tokenResponse:e}=r;return t.isAnonymous&&!e?{providerId:null,isNewUser:!1,profile:null}:function bs(r){var t,e;if(!r)return null;const{providerId:n}=r,i=r.rawUserInfo?JSON.parse(r.rawUserInfo):{},s=r.isNewUser||"identitytoolkit#SignupNewUserResponse"===r.kind;if(!n&&r?.idToken){const o=null===(e=null===(t=oe(r.idToken))||void 0===t?void 0:t.firebase)||void 0===e?void 0:e.sign_in_provider;if(o)return new q(s,"anonymous"!==o&&"custom"!==o?o:null)}if(!n)return null;switch(n){case"facebook.com":return new Ls(s,i);case"github.com":return new Ds(s,i);case"google.com":return new Us(s,i);case"twitter.com":return new Ms(s,i,r.screenName||null);case"custom":case"anonymous":return new q(s,null);default:return new q(s,n,i)}}(e)}(e);if(!n)return null;const{isNewUser:i,profile:s,providerId:o,username:u}=n,c={isNewUser:i};return null!==o&&(c.providerId=o),null!==s&&(c.profile=s),null!=u&&(c.username=u),c}getErrorMessage(e){return e instanceof Object&&"message"in e&&"string"==typeof e.message?e.message:JSON.stringify(e)}}return r.AUTH_STATE_CHANGE_EVENT="authStateChange",r.PHONE_CODE_SENT_EVENT="phoneCodeSent",r.PHONE_VERIFICATION_FAILED_EVENT="phoneVerificationFailed",r.ERROR_NO_USER_SIGNED_IN="No user is signed in.",r.ERROR_PHONE_NUMBER_MISSING="phoneNumber must be provided.",r.ERROR_RECAPTCHA_VERIFIER_MISSING="recaptchaVerifier must be provided and must be an instance of RecaptchaVerifier.",r.ERROR_CONFIRMATION_RESULT_MISSING="No confirmation result with this verification id was found.",r})()}}]);