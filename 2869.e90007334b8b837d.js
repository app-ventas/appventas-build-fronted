"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[2869],{2869:(F,u,c)=>{c.r(u),c.d(u,{Tab1PageModule:()=>U});var a=c(2912),p=c(6814),f=c(95),m=c(7168),h=c(5861),T=c(5083),n=c(5678),d=c(8439),x=c(8816),Z=c(8168),b=c(4387);function C(e,l){1&e&&(n.TgZ(0,"ion-title"),n._uU(1,"Cartera de Clientes"),n.qZA())}function v(e,l){1&e&&(n.TgZ(0,"h6",11),n._uU(1,"Cartera de Clientes"),n.qZA())}function S(e,l){1&e&&(n.TgZ(0,"ion-col",17)(1,"strong"),n._uU(2," Saldo "),n.qZA()())}function P(e,l){1&e&&(n.TgZ(0,"ion-col",17)(1,"strong"),n._uU(2," Cliente "),n.qZA()())}function A(e,l){if(1&e&&n._UZ(0,"ion-col",18),2&e){const t=n.oxw(3);n.Q6J("size",t.isLandscape?6:12)}}function y(e,l){if(1&e){const t=n.EpF();n.ynx(0),n.TgZ(1,"ion-col",18)(2,"ion-button",19),n.NdJ("click",function(){const g=n.CHM(t).$implicit,r=n.oxw(2);return n.KtG(r.goToClientDetail(g.id))}),n.TgZ(3,"span",20),n._uU(4),n.qZA(),n.TgZ(5,"span",21),n._uU(6),n.ALo(7,"COP"),n.qZA(),n._UZ(8,"ion-icon",22),n.qZA()(),n.YNc(9,A,1,1,"ion-col",23),n.BQk()}if(2&e){const t=l.$implicit,i=l.index,o=n.oxw(2);n.xp6(1),n.Q6J("size",o.isLandscape?6:12),n.xp6(3),n.hij("",t.name," "),n.xp6(2),n.Oqu(n.lcZ(7,4,t.balance)),n.xp6(3),n.Q6J("ngIf",o._clientsFilter&&i==o._clientsFilter.length-1&&(o._clientsFilter.length||0)%2!=0&&o.isLandscape)}}function J(e,l){if(1&e&&(n.TgZ(0,"ion-grid",12)(1,"ion-row",13)(2,"ion-col",14)(3,"strong"),n._uU(4," Cliente "),n.qZA()(),n.YNc(5,S,3,0,"ion-col",15)(6,P,3,0,"ion-col",15),n.TgZ(7,"ion-col",14)(8,"strong"),n._uU(9," Saldo "),n.qZA()()(),n.TgZ(10,"ion-row"),n.YNc(11,y,10,6,"ng-container",16),n.qZA()()),2&e){const t=n.oxw();n.xp6(2),n.Q6J("size",t.isLandscape?3:6),n.xp6(3),n.Q6J("ngIf",t.isLandscape),n.xp6(1),n.Q6J("ngIf",t.isLandscape),n.xp6(1),n.Q6J("size",t.isLandscape?3:6),n.xp6(3),n.Q6J("@filterAnimation",t.clientsTotal),n.xp6(1),n.Q6J("ngForOf",t._clientsFilter)}}function Q(e,l){1&e&&(n.TgZ(0,"ion-list",12)(1,"ion-item")(2,"ion-label"),n._UZ(3,"ion-skeleton-text",24),n.qZA()(),n.TgZ(4,"ion-item")(5,"ion-label"),n._UZ(6,"ion-skeleton-text",24),n.qZA()()()),2&e&&(n.xp6(3),n.Q6J("animated",!0),n.xp6(3),n.Q6J("animated",!0))}const I=[{path:"",component:(()=>{class e{constructor(t,i,o,g,r){this.preloadService=t,this.storageService=i,this.screenSizeService=o,this.dialogService=g,this.redirectService=r,this.clientsTotal=-1,this.loading=!1,this.isLandscape=!1,this.isSmallScreen=!1}ionViewDidEnter(){var t=this;return(0,h.Z)(function*(){const i=yield t.dialogService.showLoading();t.redirectService.routerNameChange("tabs/tab1"),t.isLandscape=t.screenSizeService.isLandscape,t.isSmallScreen=t.screenSizeService.isSmallScreen,t.screenSizeService.isLandscape$.subscribe(s=>{t.isLandscape=s.isLandscape,t.isSmallScreen=s.isSmallScreen});const o=yield t.storageService.getUserAuth();yield t.preloadService.sync(o),i.dismiss();let g=yield t.storageService.getClients(o);t.clients=g||[],t._clientsFilter=t.clients?.filter(s=>s.balance||!1).sort((s,_)=>s.balance&&_.balance?Number(_.balance)-Number(s.balance):0);for(const s of t.clients)(!s.balance||0===s.balance)&&t._clientsFilter?.push(s);t.loading=!0})()}findClient(t){const i=(t.target.value||"").trim().toLowerCase();this._clientsFilter=i?this.clients?.filter(o=>o?.name?.toLowerCase().includes(i)):this.clients,this.clientsTotal=i&&this._clientsFilter?this._clientsFilter.length:-1}goToClientDetail(t){this.redirectService.redirectTo("tabs/client-detail",{clientId:t})}static#n=this.\u0275fac=function(i){return new(i||e)(n.Y36(d.Q$),n.Y36(d.V1),n.Y36(d.O6),n.Y36(d.xA),n.Y36(x.V))};static#t=this.\u0275cmp=n.Xpm({type:e,selectors:[["app-tab1"]],decls:15,vars:6,consts:[[3,"translucent"],[1,"ion-padding-landscape-head"],["slot","start"],[4,"ngIf"],["slot","end"],["color","primary","fill","solid","size","small",1,"button-new"],["slot","end","name","add-circle-outline"],["color","light","id","container",1,"ion-padding",3,"fullscreen"],["class","ion-text-center ion-padding-landscape",4,"ngIf"],["show-clear-button","always","placeholder","Buscar Cliente",1,"ion-padding-landscape","ion-text-start",3,"ionInput"],["class","ion-padding-landscape",4,"ngIf"],[1,"ion-text-center","ion-padding-landscape"],[1,"ion-padding-landscape"],[1,"background-color-light-blue","ion-padding","sticky"],[1,"ion-text-center",3,"size"],["size","3","class","ion-text-center",4,"ngIf"],[4,"ngFor","ngForOf"],["size","3",1,"ion-text-center"],[3,"size"],["expand","full",1,"background-color-white",3,"click"],[1,"ellipsis-txt","width-100"],[1,"client-balance"],["slot","end","name","ellipsis-vertical-outline"],[3,"size",4,"ngIf"],[2,"width","80%",3,"animated"]],template:function(i,o){1&i&&(n.TgZ(0,"ion-header",0)(1,"ion-toolbar",1)(2,"ion-buttons",2),n._UZ(3,"app-icon-logo"),n.qZA(),n.YNc(4,C,2,0,"ion-title",3),n.TgZ(5,"ion-buttons",4)(6,"ion-button",5),n._uU(7," Nuevo Cliente "),n._UZ(8,"ion-icon",6),n.qZA(),n._UZ(9,"ion-menu-button"),n.qZA()()(),n.TgZ(10,"ion-content",7),n.YNc(11,v,2,0,"h6",8),n.TgZ(12,"ion-searchbar",9),n.NdJ("ionInput",function(r){return o.findClient(r)}),n.qZA(),n.YNc(13,J,12,6,"ion-grid",10)(14,Q,7,2,"ion-list",10),n.qZA()),2&i&&(n.Q6J("translucent",!0),n.xp6(4),n.Q6J("ngIf",o.isLandscape),n.xp6(6),n.Q6J("fullscreen",!0),n.xp6(1),n.Q6J("ngIf",!o.isLandscape),n.xp6(2),n.Q6J("ngIf",o.loading),n.xp6(1),n.Q6J("ngIf",!o.loading))},dependencies:[a.YG,a.Sm,a.wI,a.W2,a.jY,a.Gu,a.gu,a.Ie,a.Q$,a.q_,a.fG,a.Nd,a.VI,a.CK,a.wd,a.sr,a.j9,p.sg,p.O5,Z.S,b.DA],styles:["#container[_ngcontent-%COMP%]{text-align:center}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;padding:0}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{border-radius:6px;color:#000;text-align:left;padding:0;margin:0;opacity:.6}ion-grid[_ngcontent-%COMP%]   ion-col[_ngcontent-%COMP%]   ion-icon[_ngcontent-%COMP%]{color:gray;margin-left:auto}.client-balance[_ngcontent-%COMP%]{margin-left:auto!important;width:60%;text-align:end;margin-right:1rem}"],data:{animation:[T.$t]}})}return e})()}];let L=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=n.oAB({type:e});static#e=this.\u0275inj=n.cJS({imports:[m.Bz.forChild(I),m.Bz]})}return e})();var O=c(8434);let U=(()=>{class e{static#n=this.\u0275fac=function(i){return new(i||e)};static#t=this.\u0275mod=n.oAB({type:e});static#e=this.\u0275inj=n.cJS({imports:[a.Pc,p.ez,f.u5,f.UX,O.K,L]})}return e})()}}]);